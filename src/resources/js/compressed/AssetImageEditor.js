Craft.AssetImageEditor=Garnish.Modal.extend({$body:null,$footer:null,$tools:null,$buttons:null,$cancelBtn:null,$replaceBtn:null,$saveBtn:null,$editorContainer:null,$straighten:null,$croppingCanvas:null,canvas:null,image:null,viewport:null,viewportMask:null,imageHolder:null,assetId:null,cacheBust:null,zoomRatio:1,croppingCanvas:null,clipper:null,croppingRectangle:null,cropperHandles:null,croppingShade:null,tiltedImageVerticeCoords:null,isCroppingPerformed:!1,cropData:{},draggingCropper:!1,scalingCropper:!1,previousMouseX:0,previousMouseY:0,lockAspectRatio:!1,appliedFilter:null,appliedFilterOptions:{},editorHeight:0,editorWidth:0,viewportWidth:0,viewportHeight:0,imageAngle:0,imageStraightenAngle:0,viewportRotation:0,originalWidth:0,originalHeight:0,animationInProgress:!1,init:function(a,b){this.cacheBust=Date.now(),this.setSettings(b,Craft.AssetImageEditor.defaults),this.assetId=a,this.$container=$('<form class="modal fitted imageeditor"></form>').appendTo(Garnish.$bod),this.$body=$('<div class="body"></div>').appendTo(this.$container),this.$footer=$('<div class="footer"/>').appendTo(this.$container),this.base(this.$container,this.settings),this.$buttons=$('<div class="buttons rightalign"/>').appendTo(this.$footer),this.$cancelBtn=$('<div class="btn cancel">'+Craft.t("app","Cancel")+"</div>").appendTo(this.$buttons),this.$replaceBtn=$('<div class="btn submit save replace">'+Craft.t("app","Replace Asset")+"</div>").appendTo(this.$buttons),this.settings.allowSavingAsNew&&(this.$saveBtn=$('<div class="btn submit save copy">'+Craft.t("app","Save as New Asset")+"</div>").appendTo(this.$buttons)),this.addListener(this.$cancelBtn,"activate",$.proxy(this,"hide")),this.removeListener(this.$shade,"click"),this.updateRequestedImageSize(),Craft.postActionRequest("assets/image-editor",$.proxy(this,"loadEditor"))},updateRequestedImageSize:function(){var a=Garnish.$doc.get(0).documentElement.clientWidth,b=Garnish.$doc.get(0).documentElement.clientHeight;this.requestedImageSize=Math.min(b,a)},loadEditor:function(a){this.$body.html(a.html),this.$tabs=$(".tabs li",this.$body),this.$viewsContainer=$(".views",this.$body),this.$views=$("> div",this.$viewsContainer),this.$editorContainer=$(".image-container .image",this.$body),this.editorHeight=this.$editorContainer.innerHeight(),this.editorWidth=this.$editorContainer.innerWidth(),this.updateSizeAndPosition(),this.canvas=new fabric.StaticCanvas("image-canvas",{backgroundColor:this.backgroundColor,hoverCursor:"default"}),this.canvas.enableRetinaScaling=!0;var b=Craft.getActionUrl("assets/edit-image",{assetId:this.assetId,size:this.requestedImageSize,cacheBust:this.cacheBust});fabric.Image.fromURL(b,$.proxy(function(a){this.image=a,this.originalHeight=this.image.getHeight(),this.originalWidth=this.image.getWidth(),this.zoomRatio=1,this.image.set({left:0,top:0}),this.imageHolder=new fabric.Group([this.image],{left:0,top:0}),this.canvas.add(this.imageHolder),this._scaleAndCenterImage(),this._addControlListeners(),this.canvas.renderAll()},this))},updateSizeAndPosition:function(){if(this.$container){var a=window.innerWidth,b=window.innerHeight;this.$container.css({width:a,"min-width":a,left:0,height:b,"min-height":b,top:0}),this.$body.css({height:b-58}),a<b?this.$container.addClass("vertical"):this.$container.removeClass("vertical"),this.$editorContainer&&this.image&&this._scaleAndCenterImage()}},_scaleAndCenterImage:function(){this.editorHeight=this.$editorContainer.innerHeight(),this.editorWidth=this.$editorContainer.innerWidth(),this.canvas.setDimensions({width:this.editorWidth,height:this.editorHeight});var a=this.originalHeight/this.originalWidth,b=this.editorHeight/this.editorWidth;a>b?(this.image.height=this.editorHeight,this.image.width=Math.round(this.originalWidth/(this.originalHeight/this.image.height))):(this.image.width=this.editorWidth,this.image.height=Math.round(this.originalHeight*(this.image.width/this.originalWidth))),this.imageHolder.set({left:(this.editorWidth-this.image.width)/2,top:(this.editorHeight-this.image.height)/2}),this.canvas.renderAll()},_renewImageZoomRatio:function(){this.image.scale(this.zoomRatio)},_createViewportMask:function(a){var b=new fabric.Rect({width:a.width,height:a.height,fill:"#000",left:a.left+a.width/2,top:a.top+a.height/2,originX:"center",originY:"center"});return b.globalCompositeOperation="destination-in",b},_addControlListeners:function(){this.addListener(this.$tabs,"click","_handleTabClick"),this.straighteningInput=new SlideRuleInput("slide-rule"),this.ratioMenu=this.$ratioBtn.menubtn().data("menubtn").menu,this.$tabs.first().trigger("click")},rotateViewport:function(a){if(!this.animationInProgress){this.discardCrop(),this.animationInProgress=!0,this.viewportRotation+=a,this.viewportRotation=parseInt((this.viewportRotation+360)%360,10);var b=this.imageHolder.getAngle()+a;this.imageHolder.animate("angle",b,{onChange:this.canvas.renderAll.bind(this.canvas),duration:this.settings.animationDuration,onComplete:$.proxy(function(){var a=parseInt((this.imageHolder.getAngle()+360)%360,10);this.imageHolder.set({angle:a}),this.animationInProgress=!1,this.getZoomToCoverRatio()},this)})}},straighten:function(a){this.animationInProgress||(this.discardCrop(),this.animationInProgress=!0,a&&("change"==a.type||"click"==a.type?this.hideGrid():this.showGrid()),this.imageStraightenAngle=parseInt(this.$straighten.val(),10)%360,this._prepareImageForRotation(),this.image.set({angle:this.imageStraightenAngle}),this.zoomRatio=this.getZoomToCoverRatio(),this._renewImageZoomRatio(),this._destroyCropper(),this.canvas.renderAll(),this.animationInProgress=!1)},resetStraighten:function(a){this.animationInProgress||(this.$straighten.val(0),this.straighten())},saveImage:function(a){if($button=$(a.currentTarget),$button.hasClass("disabled"))return!1;$(".btn",this.$buttons).addClass("disabled"),this.$buttons.append('<div class="spinner"></div>');var b={assetId:this.assetId,viewportRotation:this.viewportRotation,imageRotation:this.imageStraightenAngle,replace:$button.hasClass("replace")?1:0},c=this.appliedFilter;if(c){b.filter=c;var d=this.appliedFilterOptions;for(var e in d)b["filterOptions["+e+"]"]=encodeURIComponent(d[e])}this.isCroppingPerformed&&(b.cropData=this.cropData),Craft.postActionRequest("assets/save-image",b,$.proxy(function(a){this.$buttons.find(".btn").removeClass("disabled").end().find(".spinner").remove(),this.onSave()},this))},getZoomToCoverRatio:function(){var a=Math.abs(this.imageStraightenAngle)*(Math.PI/180),b=Math.sin(a)*this.viewportHeight+Math.cos(a)*this.viewportWidth,c=Math.sin(a)*this.viewportWidth+Math.cos(a)*this.viewportHeight;return Math.max(b/this.viewportWidth,c/this.viewportHeight)},getZoomToFitRatio:function(){var a,b,c=Math.abs(this.imageStraightenAngle)*(Math.PI/180);if(this.originalWidth>this.originalHeight)var d=this.originalWidth/this.originalHeight,a=this.editorWidth/(Math.cos(c)*d+Math.sin(c)),b=a*d;else var d=this.originalHeight/this.originalWidth,b=this.editorHeight/(Math.sin(c)+Math.cos(c)*d),a=b*d;return Math.max(b,a)/this.editorWidth},getCombinedZoomRatio:function(){return this.getZoomToCoverRatio()/this.getZoomToFitRatio()},_drawGrid:function(){var a={strokeWidth:this.settings.gridLineThickness,opacity:1,stroke:this.settings.gridLineColor},b=this.viewportWidth,c=this.viewportHeight,d=[new fabric.Line([0,0,b-1,0],a),new fabric.Line([0,c-1,0,0],a),new fabric.Line([b-1,0,b-1,c-1],a),new fabric.Line([b,c-1,0,c-1],a)],e=$.proxy(function(b,c,f,g,h){var i=Math.ceil(c/2-this.settings.gridLineThickness/2+f);"x"==h?pointOptions=[0,i,g,i]:pointOptions=[i,0,i,g],a.opacity=1-(b-1)*(1/this.settings.gridLinePrecision),d.push(new fabric.Line(pointOptions,a)),b<this.settings.gridLinePrecision&&(e(b+1,c/2,f,g,h),e(b+1,c/2,f+c/2,g,h))},this);e(1,b,0,c,"y"),e(1,c,0,b,"x"),this.grid=new fabric.Group(d,{left:this.image.left-this.settings.gridLineThickness,top:this.image.top-this.settings.gridLineThickness,opacity:0}),this.viewport.add(this.grid)},showGrid:function(){this.grid.set({opacity:1})},hideGrid:function(){this.grid.set({opacity:0})},onFadeOut:function(){this.destroy()},applyFilter:function(a){if($button=$(a.currentTarget),$button.hasClass("disabled"))return!1;$button.addClass("disabled"),$spinner=$('<div class="spinner filter-spinner"></div>').insertAfter($button);var b={assetId:this.assetId,size:this.settings.assetSize},c=this.getSelectedFilter();if(c){var d=this.getFilterOptions(c);if(c==this.appliedFilter&&JSON.stringify(this.appliedFilterOptions)==JSON.stringify(d))return $spinner.remove(),void $button.removeClass("disabled");this.appliedFilter=c,this.appliedFilterOptions=d,b.filter=c;for(var e in d)b["filterOptions["+e+"]"]=encodeURIComponent(d[e])}else{if(null==this.appliedFilter)return $spinner.remove(),void $button.removeClass("disabled");this.appliedFilterOptions={},this.appliedFilter=null}imageUrl=Craft.getActionUrl("assets/edit-image",b),this.image.setSrc(imageUrl,$.proxy(function(a){this._scaleAndCenterImage(),this._prepareImageForRotation(),$spinner.remove(),$button.removeClass("disabled")},this))},getSelectedFilter:function(){return $(".filter-select",this.$tools).find("option:selected").val()},getFilterOptions:function(a){var b={};return $filterFields=$(".filter-fields[filter="+a+"]").find("input, select, textarea"),$filterFields.each(function(){$input=$(this),b[$input.prop("name")]=encodeURIComponent($input.val())}),b},onSave:function(){this.settings.onSave()},isActiveControl:function(a){return 0==a.parents(".disabled").length},enableCropMode:function(){this.zoomRatio=this.getZoomToFitRatio();var a=function(){$(".cropping-tools .crop-mode-enabled",this.$tools).removeClass("hidden"),$(".cropping-tools .crop-mode-disabled",this.$tools).addClass("hidden"),this.canvas.renderAll()}.bind(this);this.discardCrop(!0),this.showCropper(),this._switchEditingMode({mode:"crop",onFinish:a}),this.viewportMask.animate({width:this.editorWidth,height:this.editorHeight},{duration:this.settings.animationDuration}),this.canvas.renderAll()},cancelCropMode:function(){this.zoomRatio=this.getZoomToCoverRatio();var a=function(){$(".rotation-tools, .filter-tools",this.$tools).removeClass("disabled"),$(".cropping-tools .crop-mode-enabled",this.$tools).addClass("hidden"),$(".cropping-tools .crop-mode-disabled",this.$tools).removeClass("hidden"),this.canvas.renderAll()}.bind(this);this.hideCropper(),this._switchEditingMode({mode:"edit",onFinish:a}),this.viewportMask.animate({width:this.viewportWidth,height:this.viewportHeight},{duration:this.settings.animationDuration}),this.canvas.renderAll()},discardCrop:function(a){if(this.isCroppingPerformed){this._scaleAndCenterImage(),this._prepareImageForRotation();var b={width:this.viewportWidth,height:this.viewportHeight,top:this.image.top-1,left:this.image.left-1};a?this.viewportMask.set(b):this.viewportMask.animate(b,{duration:this.settings.animationDuration,onChange:this.canvas.renderAll.bind(this.canvas)}),this.canvas.renderAll(),this.cropData={},this.isCroppingPerformed=!1}},applyCrop:function(){var a=this.clipper.width,b=this.clipper.height,c={x:this.clipper.left+a/2+2,y:this.clipper.top+b/2+2},d=c.x-this.editorWidth/2,e=c.y-this.editorHeight/2;this.viewportMask.animate({width:a,height:b},{duration:this.settings.animationDuration}),this.image.animate({left:this.image.left-d,top:this.image.top-e},{onComplete:function(){$(".rotation-tools, .filter-tools",this.$tools).removeClass("disabled"),$(".cropping-tools .crop-mode-enabled",this.$tools).addClass("hidden"),$(".cropping-tools .crop-mode-disabled",this.$tools).removeClass("hidden")}.bind(this),onChange:this.canvas.renderAll.bind(this.canvas),duration:this.settings.animationDuration}),this.hideCropper();var f,g;this.settings.cropperBorderThickness;if(0==this.imageStraightenAngle)var f=Math.round((this.editorWidth-this.image.width)/2),g=Math.round((this.editorHeight-this.image.height)/2);else var f=0,g=0;this.cropData={width:this.clipper.width,height:this.clipper.height,cornerLeft:Math.max(Math.round(this.clipper.left-f-this.tiltedImageVerticeCoords.c.x),0),cornerTop:Math.max(Math.round(this.clipper.top-g-this.tiltedImageVerticeCoords.d.y),0),scaledWidth:this.image.width,scaledHeight:this.image.height,zoomRatio:this.getZoomToFitRatio()},this.isCroppingPerformed=!0},_switchEditingMode:function(a){if($(".rotation-tools, .filter-tools, .cropping-tools",this.$tools).addClass("disabled").find("select").prop("disabled",!0),"crop"==a.mode)var b=".cropping-tools";else var b=".cropping-tools, .rotation-tools, .filter-tools";this.image.animate({scaleX:this.zoomRatio,scaleY:this.zoomRatio},{onChange:this.canvas.renderAll.bind(this.canvas),duration:this.settings.animationDuration,onComplete:$.proxy(function(){$(b,this.$tools).removeClass("disabled").find("select").prop("disabled",!1),a.onFinish()},this)})},showCropper:function(){this._drawCropper(),this._setTiltedVerticeCoordinates(),this._redrawCropperBoundaries(),this.croppingCanvas.on({"mouse:down":this._handleMouseDown.bind(this),"mouse:move":this._handleMouseMove.bind(this),"mouse:up":this._handleMouseUp.bind(this)})},hideCropper:function(){this.clipper&&(this.croppingCanvas.remove(this.clipper),this.croppingCanvas.remove(this.croppingShade),this.croppingCanvas.remove(this.cropperHandles),this.croppingCanvas.remove(this.croppingRectangle),this.croppingCanvas.off({"mouse:down":this._handleMouseDown.bind(this),"mouse:move":this._handleMouseMove.bind(this),"mouse:up":this._handleMouseUp.bind(this)}))},_drawCropper:function(){var a=this.settings.cropperBorderThickness;this.croppingCanvas=new fabric.Canvas("cropping-canvas",{backgroundColor:"rgba(0,0,0,0)",hoverCursor:"default",selection:!1}),this.$croppingCanvas=$("#cropping-canvas",this.$editorContainer),this.croppingCanvas.setDimensions({width:this.editorWidth,height:this.editorHeight}),$(".canvas-container",this.$editorContainer).css({position:"absolute",top:0,left:0}),this.croppingShade=new fabric.Rect({width:this.editorWidth,height:this.editorHeight,fill:"rgba(255,255,255,0.4)",left:0,top:0}),this.croppingShade.set({hasBorders:!1,hasControls:!1,selectable:!1});var b=0==this.imageStraightenAngle?1.2:1.2*this.getCombinedZoomRatio(),c=this.viewportWidth/b,d=this.viewportHeight/b;this.clipper=new fabric.Rect({left:Math.round(this.editorWidth/2-c/2)-a,top:Math.round(this.editorHeight/2-d/2)-a,width:c,height:d,stroke:"black",fill:"rgba(128,0,0,1)",strokeWidth:0,hasBorders:!1,hasControls:!1,selectable:!1}),this.clipper.globalCompositeOperation="destination-out",this.croppingCanvas.add(this.croppingShade),this.croppingCanvas.add(this.clipper)},_redrawCropperBoundaries:function(){this.cropperHandles&&(this.croppingCanvas.remove(this.cropperHandles),this.croppingCanvas.remove(this.croppingRectangle));var a={strokeWidth:2,stroke:"rgb(255,255,255)",fill:!1},b=[],c=new fabric.Path("M 0,10 L 0,0 L 10,0");c.set(a),b.push(c);var c=new fabric.Path("M "+(this.clipper.width-8)+",0 L "+(this.clipper.width+4)+",0 L "+(this.clipper.width+4)+",10");c.set(a),b.push(c);var c=new fabric.Path("M "+(this.clipper.width+4)+","+(this.clipper.height-8)+" L"+(this.clipper.width+4)+","+(this.clipper.height+4)+" L "+(this.clipper.width-8)+","+(this.clipper.height+4));c.set(a),b.push(c);var c=new fabric.Path("M 10,"+(this.clipper.height+4)+" L 0,"+(this.clipper.height+4)+" L 0,"+(this.clipper.height-8));c.set(a),b.push(c),this.cropperHandles=new fabric.Group(b,{left:this.clipper.left-2,top:this.clipper.top-2,hasBorders:!1,hasControls:!1,selectable:!1}),this.croppingRectangle=new fabric.Rect({left:this.clipper.left,top:this.clipper.top,width:this.clipper.width,height:this.clipper.height,fill:"rgba(0,0,0,0)",stroke:"rgba(255,255,255,0.8)",strokeWidth:2,hasBorders:!1,hasControls:!1,selectable:!1}),this.croppingCanvas.add(this.cropperHandles),this.croppingCanvas.add(this.croppingRectangle),this.croppingCanvas.renderAll()},_handleMouseDown:function(a){var b=this._cropperHandleHitTest(a.e),c=this._cropperHitTest(a.e);(b||c)&&(this.previousMouseX=a.e.pageX,this.previousMouseY=a.e.pageY,b?this.scalingCropper=b:c&&(this.draggingCropper=!0))},_handleMouseMove:function(a){this.draggingCropper||this.scalingCropper?(this.draggingCropper?this._handleCropperDrag(a):this._handleCropperScale(a),this.previousMouseX=a.e.pageX,this.previousMouseY=a.e.pageY,this._redrawCropperBoundaries(),this.croppingCanvas.renderAll()):this._setMouseCursor(a.e)},_handleMouseUp:function(a){this.draggingCropper=!1,this.scalingCropper=!1},_handleCropperDrag:function(a){var b=a.e.pageX-this.previousMouseX,c=a.e.pageY-this.previousMouseY,d=this._getRectangleVertices(this.clipper,b,c);this.arePointsInsideRectangle(d,this.tiltedImageVerticeCoords)&&(this.clipper.set({left:this.clipper.left+b,top:this.clipper.top+c}),this._redrawCropperBoundaries())},_handleCropperScale:function(a){var b=a.e.pageX-this.previousMouseX,c=a.e.pageY-this.previousMouseY;if(this.lockAspectRatio&&("tl"==this.scalingCropper||"tr"==this.scalingCropper||"bl"==this.scalingCropper||"br"==this.scalingCropper))if(Math.abs(b)>Math.abs(c)){var d=this.clipper.width/this.clipper.height;c=b/d,c*="tr"==this.scalingCropper||"bl"==this.scalingCropper?-1:1}else{var d=this.clipper.width/this.clipper.height;b=c*d,b*="tr"==this.scalingCropper||"bl"==this.scalingCropper?-1:1}var e={left:this.clipper.left,top:this.clipper.top,width:this.clipper.width,height:this.clipper.height};switch(this.scalingCropper){case"t":e.top+=c,e.height-=c;break;case"b":e.height+=c;break;case"l":e.left+=b,e.width-=b;break;case"r":e.width+=b;break;case"tl":e.top+=c,e.height-=c,e.left+=b,e.width-=b;break;case"tr":e.top+=c,e.height-=c,e.width+=b;break;case"bl":e.height+=c,e.left+=b,e.width-=b;break;case"br":e.height+=c,e.width+=b}if(!(e.height<20||e.width<20)){var f=this._getRectangleVertices(e);this.arePointsInsideRectangle(f,this.tiltedImageVerticeCoords)&&(this.clipper.set({top:e.top,left:e.left,width:e.width,height:e.height}),this._redrawCropperBoundaries(),this.croppingCanvas.renderAll())}},_setMouseCursor:function(a){var b="default",c=this._cropperHandleHitTest(a);c?"t"==c||"b"==c?b="ns-resize":"l"==c||"r"==c?b="ew-resize":"tl"==c||"br"==c?b="nwse-resize":"bl"!=c&&"tr"!=c||(b="nesw-resize"):this._cropperHitTest(a)&&(b="move"),$(".upper-canvas").css("cursor",b)},_cropperHandleHitTest:function(a){var b=this.$croppingCanvas.offset(),c=a.pageX-b.left,d=a.pageY-b.top,e=this.clipper.left,f=this.clipper.left+this.clipper.width,g=this.clipper.top,h=this.clipper.top+this.clipper.height;if(c<e+10&&c>e-3){if(d<g+10&&d>g-3)return"tl";if(d<h+3&&d>h-10)return"bl"}if(c>f-13&&c<f+3){if(d<g+10&&d>g-3)return"tr";if(d<h+2&&d>h-10)return"br"}return c<e+3&&c>e-3&&d<h-10&&d>g+10?"l":c<f+1&&c>f-5&&d<h-10&&d>g+10?"r":d<g+4&&d>g-2&&c>e+10&&c<f-10?"t":d<h+2&&d>h-4&&c>e+10&&c<f-10&&"b"},_cropperHitTest:function(a){var b=this.$croppingCanvas.offset(),c=a.pageX-b.left,d=a.pageY-b.top,e=this.clipper.left,f=this.clipper.left+this.clipper.width,g=this.clipper.top,h=this.clipper.top+this.clipper.height;return c>=e&&c<=f&&d>=g&&d<=h},_getRectangleVertices:function(a,b,c){"undefined"==typeof b&&(b=0),"undefined"==typeof c&&(c=0);var d={x:a.left+b,y:a.top+c},e={x:d.x+a.width,y:d.y},f={x:e.x,y:e.y+a.height},g={x:d.x,y:f.y};return[d,e,f,g]},_setTiltedVerticeCoordinates:function(){var a=-1*this.imageStraightenAngle*(Math.PI/180),b=this.image.height*this.getZoomToFitRatio(),c=this.image.width*this.getZoomToFitRatio(),d=Math.cos(a)*b,e=Math.sin(a)*c,f=Math.cos(a)*c,g=Math.sin(a)*b,h=(this.editorHeight-(d+e))/2,i=(this.editorWidth-(g+f))/2;this.tiltedImageVerticeCoords={a:{x:i+f,y:h},b:{x:this.editorWidth-i,y:h+d},c:{x:i+g,y:this.editorHeight-h},d:{x:i,y:h+e}}},_destroyCropper:function(){this.clipper=null,this.cropperHandles=null,this.croppingRectangle=null,this.croppingShade=null,this.croppingCanvas=null,$("#cropping-canvas").siblings(".upper-canvas").remove(),$("#cropping-canvas").parent(".canvas-container").before($("#cropping-canvas")),$(".canvas-container").remove()},arePointsInsideRectangle:function(a,b){for(var c=this._getVector(b.a,b.b),d=this._getVector(b.b,b.c),e=this._getScalarProduct(c,c),f=this._getScalarProduct(d,d),g=0;g<a.length;g++){var h=a[g],i=this._getVector(b.a,h),j=this._getVector(b.b,h),k=this._getScalarProduct(c,i),l=this._getScalarProduct(d,j),m=0<=k&&k<=e,n=0<=l&&l<=f;if(!m||!n)return!1}return!0},_getVector:function(a,b){return{x:b.x-a.x,y:b.y-a.y}},_getScalarProduct:function(a,b){return a.x*b.x+a.y*b.y},_getMagnitude:function(a){return Math.sqrt(a.x*a.x+a.y*a.y)}},{defaults:{gridLineThickness:1,gridLineColor:"#000000",gridLinePrecision:2,cropperBorderThickness:2,animationDuration:100,allowSavingAsNew:!0,minimumCropperSize:{width:30,height:30},onSave:$.noop}});
//# sourceMappingURL=AssetImageEditor.js.map