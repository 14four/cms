{"version":3,"sources":["../RichTextInput.js"],"names":["$","Craft","RichTextInput","Garnish","Base","extend","id","linkOptions","volumes","elementSiteId","redactorConfig","$textarea","redactor","linkOptionModals","init","settings","this","transforms","lang","redactorLang","direction","orientation","imageUpload","fileUpload","dragImageUpload","dragFileUpload","toolbarFixedTopOffset","plugins","buttons","index","inArray","splice","unshift","lowestListButtonIndex","oldListButtons","i","length","callbacks","handleRedactorInit","mergeCallbacks","initRedactor","livePreview","on","proxy","core","destroy","callback1","callback2","apply","arguments","currentInstance","onInitRedactor","opts","toolbar","customizeToolbar","leaveFullscreetOnSaveShortcut","editor","toolbarFixed","scrollPageOnReady","$doc","trigger","$imageBtn","replaceRedactorButton","get","$fileBtn","button","addCallback","remove","$linkBtn","dropdownOptions","title","optionTitle","func","link","observe","element","in","out","unlink","attr","class","aria-disabled","addDropdown","onImageButtonClick","selection","save","assetSelectionModal","createElementSelectorModal","storageKey","multiSelect","sources","criteria","siteId","kind","onSelect","assets","transform","restore","asset","url","insert","node","code","sync","images","closeOtherModals","show","onFileButtonClick","assetLinkSelectionModal","text","label","onLinkOptionClick","key","elementType","elements","elementTypeHandle","replace","match","toLowerCase","onEditorFocus","box","addClass","onEditorBlur","removeClass","fullscreen","disable","cp","isOpen","placeholderKey","addAfter","$btn","jQuery"],"mappings":"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","file":"RichTextInput.js"}