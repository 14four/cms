{"version":3,"sources":["../RichTextInput.js"],"names":["$","Craft","RichTextInput","Garnish","Base","extend","id","linkOptions","assetSources","elementLocale","redactorConfig","$textarea","redactor","linkOptionModals","init","settings","this","transforms","lang","redactorLang","direction","orientation","imageUpload","fileUpload","dragImageUpload","dragFileUpload","plugins","buttons","index","inArray","splice","unshift","lowestListButtonIndex","oldListButtons","i","length","callbacks","handleRedactorInit","initRedactor","livePreview","on","proxy","core","destroy","mergeCallbacks","callback1","callback2","apply","arguments","toolbarFixed","target","closest","toolbarFixedTarget","currentInstance","onInitRedactor","opts","toolbar","customizeToolbar","leaveFullscreetOnSaveShortcut","editor","scrollPageOnReady","$doc","ready","trigger","$imageBtn","replaceRedactorButton","get","$fileBtn","button","addCallback","remove","$linkBtn","dropdownOptions","title","optionTitle","func","link","observe","element","in","out","unlink","attr","class","aria-disabled","addDropdown","onImageButtonClick","selection","save","assetSelectionModal","createElementSelectorModal","storageKey","multiSelect","sources","criteria","locale","kind","onSelect","assets","transform","restore","asset","url","insert","node","code","sync","images","closeOtherModals","show","onFileButtonClick","assetLinkSelectionModal","text","label","onLinkOptionClick","key","elementType","elements","elementTypeHandle","replace","match","toLowerCase","onEditorFocus","box","addClass","onEditorBlur","removeClass","fullscreen","disable","cp","isOpen","$placeholder","addAfter","$btn","build","icon","parent","after","append","jQuery"],"mappings":"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","file":"RichTextInput.js"}