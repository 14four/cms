{"version":3,"file":"RichTextInput.js","sources":["../RichTextInput.js"],"names":["$","Craft","RichTextInput","Garnish","Base","extend","id","entrySources","categorySources","assetSources","elementLocale","redactorConfig","$textarea","redactor","init","redactorLang","this","lang","direction","orientation","imageUpload","that","originalInitCallback","initCallback","ev","data","onRedactorInit","isFunction","call","initRedactor","livePreview","on","proxy","core","destroy","opts","toolbar","customizeToolbar","leaveFullscreetOnSaveShortcut","$imageBtn","replaceRedactorButton","t","$linkBtn","button","addCallback","selection","save","assetSelectionModal","createElementSelectorModal","storageKey","multiSelect","criteria","locale","kind","onSelect","assets","transform","length","restore","i","asset","url","insert","node","code","sync","observe","images","dropdown","hideAll","closeOtherModals","canSelectImageTransforms","show","dropdownOptions","link_entry","title","func","entrySelectionModal","sources","entries","entry","getText","label","link_category","categorySelectionModal","categories","category","link_asset","assetLinkSelectionModal","link","unlink","addDropdown","fullscreen","disable","cp","isOpen","key","get","placeholderKey","addAfter","remove","$btn","jQuery"],"mappings":"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"}