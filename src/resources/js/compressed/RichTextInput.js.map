{"version":3,"sources":["../RichTextInput.js"],"names":["$","Craft","RichTextInput","Garnish","Base","extend","id","entrySources","categorySources","assetSources","elementLocale","redactorConfig","$textarea","redactor","init","direction","redactorLang","this","lang","imageUpload","that","originalInitCallback","initCallback","ev","data","onRedactorInit","isFunction","call","initRedactor","livePreview","on","proxy","core","destroy","opts","toolbar","customizeToolbar","leaveFullscreetOnSaveShortcut","$imageBtn","replaceRedactorButton","t","$linkBtn","button","addCallback","selection","save","assetSelectionModal","createElementSelectorModal","storageKey","multiSelect","criteria","locale","kind","onSelect","assets","transform","length","restore","i","asset","url","insert","node","code","sync","observe","images","dropdown","hideAll","closeOtherModals","canSelectImageTransforms","show","dropdownOptions","link_entry","title","func","entrySelectionModal","sources","entries","entry","getText","label","link_category","categorySelectionModal","categories","category","link_asset","assetLinkSelectionModal","link","unlink","addDropdown","fullscreen","disable","cp","isOpen","key","get","placeholderKey","addAfter","remove","$btn","jQuery"],"mappings":"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","file":"RichTextInput.js"}