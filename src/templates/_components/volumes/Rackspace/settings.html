{% requireEdition CraftPro %}

{% import "_includes/forms" as forms %}

{{ forms.textField({
    label: "Username"|t,
    id: 'username',
    name: 'username',
    value: settings.username,
    errors: settings.getErrors('username'),
    class: 'rackspace-username',
    required: true
}) }}

{{ forms.textField({
    label: "API Key"|t,
    id: 'apiKey',
    name: 'apiKey',
    value: settings.apiKey,
    errors: settings.getErrors('apiKey'),
    class: 'racskspace-api-key',
    required: true
}) }}

{{ forms.select({
    id: 'region',
    name: 'region',
    options: {
        'DFW': 'Dallas (DFW)',
        'ORD': 'Chicago (ORD)',
        'IAD': 'Virginia (IAD)',
        'LON': 'London (LON)',
        'HKG': 'Hong Kong (HKG)',
        'SYD': 'Sydney (SYD)',
    },
    value: settings.region,
    class: 'rackspace-region-select'
}) }}

{% set containerInput %}
<table class="inputs">
    <tr>
        <td>
            {{ forms.select({
                id: 'container',
                name: 'container',
                options: { (settings.container): settings.container },
                value: settings.container,
                readonly: true,
                class: 'rackspace-container-select'
            }) }}
        </td>
        <td>
            <div class="btn rackspace-refresh-containers">{{ "Refresh"|t }}</div>
        </td>
        <td>
            <div class="spinner hidden"></div>
        </td>
    </tr>
</table>
{% endset %}

{{ forms.field({
    label: "Container"|t,
    id: 'container'
}, containerInput) }}

{{ forms.textField({
    label: "Subfolder"|t,
    instructions: "If you want to use a containerâ€™s subfolder as a Volume, specify the path to use here."|t,
    id: 'subfolder',
    class: 'ltr',
    name: 'subfolder',
    value: settings.subfolder,
    errors: settings.getErrors('subfolder'),
    required: false,
    placeholder: "path/to/subfolder"|t
}) }}