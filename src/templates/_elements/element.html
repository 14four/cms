{% if mode is not defined %}
	{% set mode = 'index' %}
{% endif -%}

{% set thumbUrl = element.getThumbUrl(30, 30) -%}
{% if thumbUrl -%}
	{% set thumbClass = 'thumb'~element.id -%}
	{% includeCss '.'~thumbClass~' { background-image: url('~thumbUrl~'); }' -%}
	{% includeHiResCss '.'~thumbClass~' { background-image: url('~element.getThumbUrl(60, 60)~'); }' -%}
{% endif -%}

<div class="element{% if mode != 'index' %} selectable{% endif %}{% if mode == 'field' %} removable{% endif %}{% if thumbUrl %} hasthumb{% endif %}" data-id="{{ element.id }}">
	{% if mode == 'field' -%}
		<input type="hidden" name="{{ name }}[]" value="{{ element.id }}">
		<a class="delete icon" title="{{ 'Remove'|t }}"></a>
	{% endif -%}
	{% if thumbUrl -%}
		<div class="thumb {{ thumbClass }}"></div>
	{% endif %}
	{% if element.getStatus() %}
		<div class="status {{ element.getStatus() }}"></div>
	{% endif %}
	{% if mode == 'index' and element.getCpEditUrl() %}
		<a class="label" href="{{ element.getCpEditUrl() }}">{{ element }}</a>
	{% else %}
		<span class="label">{{ element }}</span>
	{% endif %}
</div>
