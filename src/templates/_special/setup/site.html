{% layout "_special/setup/_layouts/setup" step="Site" %}

{% region "stepContents" %}

	<h2>Setup your site</h2>

	{% if site.id %}
		<input type="hidden" name="site_id" value="{site.id}" />
	{% endif %}

	<div class="field">
		<label for="name">Site Name</label>
		<div class="input-wrapper"><input id="name" name="name" {% if site.errors.name %}class="error"{% endif %} type="text" maxlength="500" value="{site.name}" /></div>
		{% if site.errors.name %}
			{% include "_includes/error_list" errors=site.errors.name %}
		{% endif %}
	</div>

	<div class="field">
		<label for="handle">Site Handle</label>
		<div class="input-wrapper"><input id="handle" name="handle" class="code {% if site.errors.handle %}error{% endif %}" type="text" maxlength="150" value="{site.handle}" /></div>
		{% if site.errors.handle %}
			{% include "_includes/error_list" errors=site.errors.handle %}
		{% endif %}
	</div>

	<div class="field">
		<label for="url">Site URL</label>
		<div class="input-wrapper"><input id="url" name="url" {% if site.errors.url %}class="error"{% endif %} type="text" maxlength="500" value="{site.url}" /></div>
		{% if site.errors.url %}
			{% include "_includes/error_list" errors=site.errors.url %}
		{% endif %}
	</div>

{% endregion %}

{% region "scripts" %}
	<script type="text/javascript">
		var $nameInput = $('#name'),
			$handleInput = $('#handle');
		if (!$nameInput.val() && !$handleInput.val())
		new blx.ui.HandleGenerator($nameInput, $handleInput);
	</script>
	{scripts}
{% endregion %}
