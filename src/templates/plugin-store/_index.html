{% extends "plugin-store/_layouts/cp" %}

{% set title = 'Plugin Store' %}

{% set extraPageHeaderHtml %}
	<div class="buttons">
		<a href="{{ url('myaccount') }}" class="btn">Your Account</a>
	</div>
{% endset %}

{% set content %}
    <div id="app">
        <Plugins></Plugins>
    </div>

	{% if not error %}

		{% if plugins.error is defined %}
			{{ plugins.error }}
		{% else %}
			<h2>All plugins</h2>

			{% if plugins|length > 0 %}
				<table class="data fullwidth">
					<thead>
						<tr>
							<th>Plugin Name</th>
							<th>Developer</th>
						</tr>
					</thead>
					<tbody>
						{% for plugin in plugins %}
							{% if plugin %}
								<tr>
									<td>{{ plugin.name }}</td>
									<td>
										{% if plugin.developerUrl %}
											<a target="_blank" href="{{ plugin.developerUrl }}">{{ plugin.developerName }}</a>
										{% else %}
											{{ plugin.developerName }}
										{% endif %}
									</td>
								</tr>
							{% endif %}
						{% endfor %}
					</tbody>
				</table>
			{% else %}
				<p>{{ 'No plugins'|t('app') }}</p>
			{% endif %}
		{% endif %}
	{% else %}
		<p class="error">{{ error|raw }}</p>
	{% endif %}

{% endset %}
