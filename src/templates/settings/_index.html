{% extends "_layouts/cp" %}
{% set title = "Settings"|t('app') %}


{% block content %}
	{% registercssresource 'css/settings.css' %}
	{% registerjsresource 'js/settings.js' %}

	{% for category, items in craft.cp.settings() %}
		<h2>{{ category }}</h2>

		<ul class="icons">
			{% for handle, item in items %}
				<li><a href="{{ url('settings/'~handle) }}" data-icon="{{ item.icon }}">{{ item.label }}</a></li>
			{% endfor %}
		</ul>

		<hr>
	{% endfor %}

	<h2>{{ "Tools"|t('app') }}</h2>

	<ul class="icons">
		{% for tool in tools %}
			{% set triggerId = 'tool-'~tool.getClassName()|id %}
			<li><a id="{{ triggerId }}" data-icon="{{ tool.getIconValue() }}">{{ tool.getDisplayName() }}</a></li>
			{% registerjs %}
				new Craft.Tool('{{ triggerId|e("js") }}', '{{ tool.getClassName()|e("js") }}', {{ tool.getOptionsHtml()|json_encode|raw }}, '{{ tool.getButtonLabel()|e("js") }}');
			{% endregisterjs %}
		{% endfor %}
	</ul>
{% endblock %}
