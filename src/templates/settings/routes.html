{% extends "_layouts/cp" %}
{% set title = "Routes"|t %}
{% include_css "routes.css" %}
{% include_js "routes.js" %}

{% include_translation
	"New route order saved.",
	"Couldn’t save new route order.",
	"If the URL looks like this",
	"Add a token",
	"Load this template",
	"Edit Route",
	"Create a new route",
	"Route Saved.",
	"Couldn’t save route.",
	"Are you sure you want to delete this route?",
	"Route deleted."
%}


{% set titlebar %}
	<h1>{{ title }}</h1>
	<ul class="right">
		<li><div id="add-route-btn" class="btn addbtn">{{ "New Route"|t }}</div></li>
	</ul>
{% endset %}


{% set content %}
	<div id="routes">
		{% for route in blx.routes.all %}
			<div class="pane route" data-id="{{ route.id }}">
				<div class="url">
					{%- autoescape false -%}
						{{ route.urlDisplayHtml }}
					{%- endautoescape -%}
				</div>
				<div class="template">{{ route.template }}</div>
			</div>
		{% endfor %}
	</div>

	<div class="buttons">
		<a class="btn" href="{{ url('settings') }}">{{ "Done"|t }}</a>
	</div>
{% endset %}

{% set scripts %}
	<script type="text/javascript">
		blx.translations.year   = '{{ "year"|t(null, null, null, blx.app.language) }}';
		blx.translations.month  = '{{ "month"|t(null, null, null, blx.app.language) }}';
		blx.translations.day    = '{{ "day"|t(null, null, null, blx.app.language) }}';
		blx.translations.number = '{{ "number"|t(null, null, null, blx.app.language) }}';
		blx.translations.page   = '{{ "page"|t(null, null, null, blx.app.language) }}';
	</script>
{% endset %}