<!-- BLOCKS ONLY -->
{% extends "myaccount/_layout" %}
<!-- end BLOCKS ONLY -->
<!-- BLOCKSPRO ONLY -->
{% extends "users/_edit/layout" %}
<!-- end BLOCKSPRO ONLY -->
{% import "_includes/forms" as forms %}
{% set pageTitle = "Profile"|t %}


<!-- BLOCKS ONLY -->
{% if not user %}
	{% set user = blx.accounts.current %}
{% endif %}
<!-- end BLOCKS ONLY -->
<!-- BLOCKSPRO ONLY -->
{% if not user and userId %}
	{% set user = blx.accounts.getById(userId) %}
	{% if not user %}{% exit 404 %}{% endif %}
{% endif %}
<!-- end BLOCKSPRO ONLY -->


{% set settings %}

	<h2>{{ pageTitle }}</h2>

	<form method="post" action="">
		<input type="hidden" name="action" value="accounts/saveProfile">
		<input type="hidden" name="userId" value="{{ user.id }}">

		{{ forms.textField({
			first: true,
			label: "First Name"|t,
			id: 'firstName',
			name: 'firstName',
			value: user.firstName,
			errors: user.errors.firstName
		}) }}

		{{ forms.textField({
			label: "Last Name"|t,
			id: 'lastName',
			name: 'lastName',
			value: user.lastName,
			errors: user.errors.lastName
		}) }}

		{{ forms.fileField({
			label: "Avatar"|t,
			id: 'avatar',
			name: 'avatar',
			errors: user.errors.avatar
		}) }}

		<input type="submit" class="btn submit" value="{{ 'Save'|t }}">

	</form>

{% endset %}
