{% extends "users/_edit/layout" %}
{% set pageTitle = "Profile"|t %}


<!-- BLOCKS ONLY -->
{% if not user %}
	{% set user = blx.accounts.current %}
{% endif %}
<!-- end BLOCKS ONLY -->
<!-- BLOCKSPRO ONLY -->
{% if not user and userId %}
	{% set user = blx.accounts.getById(userId) %}
	{% if not user %}{% exit 404 %}{% endif %}
{% endif %}
<!-- end BLOCKSPRO ONLY -->


{% set settings %}

	<h2>{{ pageTitle }}</h2>

	<form method="post" action="">
		<input type="hidden" name="action" value="accounts/saveProfile">
		<input type="hidden" name="user_id" value="{{ user.id }}">

		<div class="field first">
			<div class="heading">
				<label for="first_name">{{ "First Name"|t }}</label>
			</div>
			<div class="textwrapper"><input id="first_name" name="first_name" class="text" type="text" value="{{ user.first_name }}"></div>
			{% if user.errors.first_name %}
				{% include "_includes/error_list" with {'errors': user.errors.first_name} %}
			{% endif %}
		</div>

		<div class="field">
			<div class="heading">
				<label for="last_name">{{ "Last Name"|t }}</label>
			</div>
			<div class="textwrapper"><input id="last_name" name="last_name" class="text" type="text" value="{{ user.last_name }}"></div>
			{% if user.errors.last_name %}
				{% include "_includes/error_list" with {'errors': user.errors.last_name} %}
			{% endif %}
		</div>

		<div class="field">
			<div class="heading">
				<label for="avatar">{{ "Avatar"|t }}</label>
			</div>
			<input id="avatar" name="avatar" type="file">
			{% if settings.errors.avatar %}
				{% include "_includes/error_list" with {'errors': settings.errors.avatar} %}
			{% endif %}
		</div>

		<input type="submit" class="btn submit" value="{{ 'Save'|t }}">

	</form>

{% endset %}
