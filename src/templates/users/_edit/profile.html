{% extends "users/_edit/layout" %}
{% import "_includes/forms" as forms %}
{% set pageTitle = "Profile"|t %}


<!-- BLOCKS ONLY -->
{% if not user %}
	{% set user = blx.accounts.current %}
{% endif %}
<!-- end BLOCKS ONLY -->
<!-- BLOCKSPRO ONLY -->
{% if not user and userId %}
	{% set user = blx.accounts.getById(userId) %}
	{% if not user %}{% exit 404 %}{% endif %}
{% endif %}
<!-- end BLOCKSPRO ONLY -->


{% set settings %}

	<h2>{{ pageTitle }}</h2>

	<form method="post" action="">
		<input type="hidden" name="action" value="accounts/saveProfile">
		<input type="hidden" name="user_id" value="{{ user.id }}">

		{{ forms.textField({
			first: true,
			label: "First Name"|t,
			id: 'first_name',
			name: 'first_name',
			value: user.first_name,
			errors: user.errors.first_name
		}) }}

		{{ forms.textField({
			label: "Last Name"|t,
			id: 'last_name',
			name: 'last_name',
			value: user.last_name,
			errors: user.errors.last_name
		}) }}

		{{ forms.fileField({
			label: "Avatar"|t,
			id: 'avatar',
			name: 'avatar',
			errors: user.errors.avatar
		}) }}

		<input type="submit" class="btn submit" value="{{ 'Save'|t }}">

	</form>

{% endset %}
