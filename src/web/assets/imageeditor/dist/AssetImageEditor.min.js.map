{"version":3,"sources":["AssetImageEditor.js"],"names":["Craft","AssetImageEditor","Garnish","Modal","extend","$body","$footer","$imageTools","$buttons","$cancelBtn","$replaceBtn","$saveBtn","$editorContainer","$straighten","$croppingCanvas","canvas","image","viewport","focalPoint","grid","croppingCanvas","clipper","croppingRectangle","cropperHandles","cropperGrid","croppingShade","imageStraightenAngle","viewportRotation","originalWidth","originalHeight","imageVerticeCoords","zoomRatio","animationInProgress","currentView","assetId","cacheBust","draggingCropper","scalingCropper","draggingFocal","previousMouseX","previousMouseY","shiftKeyHeld","editorHeight","editorWidth","cropperState","scaleFactor","flipData","focalPointState","renderImage","renderCropper","init","settings","this","Date","now","setSettings","defaults","x","y","$container","$","appendTo","$bod","base","t","allowSavingAsNew","addListener","saveImage","bind","proxy","removeListener","$shade","setMaxImageSize","postActionRequest","browserViewportWidth","$doc","get","documentElement","clientWidth","browserViewportHeight","clientHeight","maxImageSize","Math","max","loadEditor","data","html","alert","$tabs","$viewsContainer","$views","innerHeight","innerWidth","updateSizeAndPosition","fabric","StaticCanvas","width","height","enableRetinaScaling","requestAnimationFrame","renderAll","imageUrl","getActionUrl","size","Image","fromURL","imageObject","set","originX","originY","left","top","add","getHeight","getWidth","_setFittedImageVerticeCoordinates","_repositionEditorElements","focalState","imageDimensions","getScaledImageDimensions","offsetX","offsetY","focal","focalData","adjustedX","adjustedY","storeFocalPointState","_createFocalPoint","_createViewport","storeCropperState","_addControlListeners","_handleMouseMove","_handleMouseDown","_handleMouseUp","ev","first","trigger","window","css","min-width","min-height","addClass","removeClass","previousEditorDimensions","setDimensions","getZoomToFitRatio","previouslyOccupiedArea","_getBoundingRectangle","_repositionCropper","getZoomToCoverRatio","_repositionImage","_repositionViewport","_repositionFocalPoint","_zoomImage","Rect","fill","globalCompositeOperation","sizeFactor","focalX","focalY","_isCenterInside","deltaX","deltaY","Group","Circle","radius","strokeWidth","stroke","toggleFocalPoint","remove","dimensions","state","scaledImageDimensions","currentWidth","newWidth","ratio","hasOrientationChanged","imageRatio","editorRatio","min","round","rotateImage","flipImage","straighteningInput","SlideRuleInput","onStart","_showGrid","onChange","slider","straighten","onEnd","_hideGrid","_cleanupFocalPointAfterStraighten","keyCode","SHIFT_KEY","_handleTabClick","$tab","currentTarget","view","showView","$view","filter","enableSlider","disableSlider","disableCropMode","enableCropMode","zoomFactor","degrees","parseInt","imageZoomRatio","newAngle","angle","viewportProperties","imageProperties","angleInRadians","PI","newDeltaX","cos","sin","newDeltaY","modifiedDeltaX","modifiedDeltaY","temp","animate","duration","animationDuration","onComplete","cleanAngle","_adjustFocalPointByAngle","axis","editorCenter","setValue","properties","scaleY","scaleX","previousAngle","value","_adjustEditorElementsOnStraighten","newCenterX","newCenterY","angleDelta","currentZoomRatio","adjustmentRatio","cropperCenterX","cropperCenterY","imageVertices","getImageVerticeCoords","rectangle","_getZoomRatioToFitRectangle","opacity","object","containingObject","newFocalX","newFocalY","adjustedFocalX","adjustedFocalY","containingVertices","vertex","rectangleVertices","_getRectangleVertices","verticeIndex","length","arePointsInsideRectangle","edge","_getEdgeCrossed","rectangleCenter","distanceFromVertexToEdge","abs","sqrt","pow","distanceFromCenterToEdge","$button","hasClass","append","postData","imageRotation","replace","cropData","zoom","find","end","onSave","hide","scaledWidth","scaledHeight","boundingBox","_getImageBoundingBox","scale","vertScale","horiScale","getCombinedZoomRatio","i","strokeOptions","lineCount","gridWidth","gridHeight","xStep","yStep","push","Line","onFadeOut","destroy","show","removeAllListeners","_setEditorMode","mode","viewportDimensions","imageCoords","callback","noop","cropperData","_showCropper","_hideCropper","targetZoom","inverseZoomFactor","imageOffsetX","imageOffsetY","clipperData","_setupCropperLayer","_redrawCropperElements","backgroundColor","hoverCursor","selection","position","rectangleRatio","rectWidth","rectHeight","lineOptions","gridOptions","pathGroup","Path","previousImageArea","currentOffset","currentArea","areaFactor","coordinateSet","a","b","c","d","_isMouseOver","move","handle","_cropperHandleHitTest","pageX","pageY","_handleFocalDrag","_handleCropperDrag","_handleCropperResize","_setMouseCursor","vertices","newX","newY","cursor","parentOffset","offset","mouseX","mouseY","lb","rb","tb","bb","event","topLeft","topRight","bottomRight","bottomLeft","zoomMode","topVerticalSegment","bottomVerticalSegment","rightHorizontalSegment","leftHorizontalSegment","verticalOffset","horizontalOffset","_debug","fabricObj","debugger","points","ab","_getVector","bc","scalarAbAb","_getScalarProduct","scalarBcBc","point","ap","bp","scalarAbAp","scalarBcBp","projectsOnAB","projectsOnBC","_getVectorMagnitude","vector","_getAngleBetweenVectors","acos","edgePoints","centerPoint","smallestDiff","edgeCrossed","edgeIndex","toCenter","edgeVector","toVertex","diff","box","proportion"],"mappings":"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","file":"AssetImageEditor.min.js"}