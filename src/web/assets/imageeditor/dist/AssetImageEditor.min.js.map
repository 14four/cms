{"version":3,"sources":["AssetImageEditor.js"],"names":["Craft","AssetImageEditor","Garnish","Modal","extend","$body","$footer","$imageTools","$buttons","$cancelBtn","$replaceBtn","$saveBtn","$editorContainer","$straighten","$croppingCanvas","canvas","image","viewport","focalPoint","grid","croppingCanvas","clipper","croppingRectangle","cropperHandles","cropperGrid","croppingShade","imageStraightenAngle","viewportRotation","originalWidth","originalHeight","imageVerticeCoords","zoomRatio","animationInProgress","currentView","assetId","cacheBust","draggingCropper","scalingCropper","draggingFocal","previousMouseX","previousMouseY","editorHeight","editorWidth","cropperState","scaleFactor","flipData","focalPointState","croppingConstraint","renderImage","renderCropper","init","settings","this","Date","now","setSettings","defaults","x","y","$container","$","appendTo","$bod","base","t","allowSavingAsNew","addListener","saveImage","bind","proxy","removeListener","$shade","setMaxImageSize","postActionRequest","browserViewportWidth","$doc","get","documentElement","clientWidth","browserViewportHeight","clientHeight","maxImageSize","Math","max","loadEditor","data","html","alert","$tabs","$viewsContainer","$views","innerHeight","innerWidth","updateSizeAndPosition","fabric","StaticCanvas","width","height","enableRetinaScaling","requestAnimationFrame","renderAll","imageUrl","getActionUrl","size","Image","fromURL","imageObject","set","originX","originY","left","top","add","getHeight","getWidth","_setFittedImageVerticeCoordinates","_repositionEditorElements","focalState","imageDimensions","getScaledImageDimensions","offsetX","offsetY","focal","focalData","adjustedX","adjustedY","storeFocalPointState","_createFocalPoint","_createViewport","storeCropperState","_addControlListeners","_handleMouseMove","_handleMouseDown","_handleMouseUp","ev","first","trigger","window","css","min-width","min-height","addClass","removeClass","previousEditorDimensions","setDimensions","getZoomToFitRatio","previouslyOccupiedArea","_getBoundingRectangle","_repositionCropper","getZoomToCoverRatio","_repositionImage","_repositionViewport","_repositionFocalPoint","_zoomImage","Rect","fill","globalCompositeOperation","sizeFactor","focalX","focalY","_isCenterInside","deltaX","deltaY","Group","Circle","radius","strokeWidth","stroke","toggleFocalPoint","remove","dimensions","state","scaledImageDimensions","currentWidth","newWidth","ratio","hasOrientationChanged","imageRatio","editorRatio","min","round","rotateImage","flipImage","straighteningInput","SlideRuleInput","onStart","_showGrid","onChange","slider","straighten","onEnd","_hideGrid","_cleanupFocalPointAfterStraighten","constraintMenu","MenuBtn","onOptionSelect","option","setCroppingConstraint","enforceCroppingConstraint","menu","_handleTabClick","$tab","currentTarget","view","showView","$view","filter","enableSlider","disableSlider","disableCropMode","enableCropMode","zoomFactor","degrees","parseInt","imageZoomRatio","newAngle","angle","viewportProperties","imageProperties","angleInRadians","PI","newDeltaX","cos","sin","newDeltaY","modifiedDeltaX","modifiedDeltaY","temp","animate","duration","animationDuration","onComplete","cleanAngle","parseFloat","_adjustFocalPointByAngle","axis","editorCenter","setValue","properties","scaleY","scaleX","previousAngle","allowDegreeFractions","value","_adjustEditorElementsOnStraighten","newCenterX","newCenterY","angleDelta","currentZoomRatio","adjustmentRatio","cropperCenterX","cropperCenterY","imageVertices","getImageVerticeCoords","rectangle","_getZoomRatioToFitRectangle","opacity","object","containingObject","newFocalX","newFocalY","adjustedFocalX","adjustedFocalY","containingVertices","vertex","rectangleVertices","_getRectangleVertices","verticeIndex","length","arePointsInsideRectangle","edge","_getEdgeCrossed","rectangleCenter","distanceFromVertexToEdge","abs","sqrt","pow","distanceFromCenterToEdge","$button","hasClass","append","postData","imageRotation","replace","cropData","zoom","find","end","error","onSave","hide","scaledWidth","scaledHeight","boundingBox","_getImageBoundingBox","scale","vertScale","horiScale","getCombinedZoomRatio","i","strokeOptions","lineCount","gridWidth","gridHeight","xStep","yStep","push","Line","onFadeOut","destroy","show","removeAllListeners","callback","cropperData","_showCropper","_editorModeTransition","_hideCropper","targetZoom","inverseZoomFactor","imageOffsetX","imageOffsetY","clipperData","_setupCropperLayer","_redrawCropperElements","backgroundColor","hoverCursor","selection","position","rectangleRatio","rectWidth","rectHeight","lineOptions","gridOptions","pathGroup","Path","previousImageArea","currentOffset","currentArea","areaFactor","coordinateSet","a","b","c","d","_isMouseOver","move","handle","_cropperHandleHitTest","pageX","pageY","_handleFocalDrag","_handleCropperDrag","_handleCropperResize","_setMouseCursor","vertices","newX","newY","_adaptFocalColor","constraint","topDelta","leftDelta","change","match","cursor","parentOffset","offset","mouseX","mouseY","lb","rb","tb","bb","event","topLeft","topRight","bottomRight","bottomLeft","zoomMode","topVerticalSegment","bottomVerticalSegment","rightHorizontalSegment","leftHorizontalSegment","verticalOffset","horizontalOffset","_debug","fabricObj","debugger","points","ab","_getVector","bc","scalarAbAb","_getScalarProduct","scalarBcBc","point","ap","bp","scalarAbAp","scalarBcBp","projectsOnAB","projectsOnBC","_getVectorMagnitude","vector","_getAngleBetweenVectors","acos","edgePoints","centerPoint","smallestDiff","edgeCrossed","edgeIndex","toCenter","edgeVector","toVertex","diff","box","proportion","noop"],"mappings":"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","file":"AssetImageEditor.min.js"}