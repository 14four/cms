{"version":3,"sources":["AssetImageEditor.js"],"names":["Craft","AssetImageEditor","Garnish","Modal","extend","$body","$footer","$imageTools","$buttons","$cancelBtn","$replaceBtn","$saveBtn","$editorContainer","$straighten","$croppingCanvas","canvas","image","viewport","focalPoint","grid","croppingCanvas","clipper","croppingRectangle","cropperHandles","cropperGrid","croppingShade","imageStraightenAngle","viewportRotation","originalWidth","originalHeight","imageVerticeCoords","zoomRatio","animationInProgress","currentView","assetId","cacheBust","draggingCropper","scalingCropper","draggingFocal","previousMouseX","previousMouseY","shiftKeyHeld","editorHeight","editorWidth","cropperState","scaleFactor","flipData","focalPointState","croppingConstraint","renderImage","renderCropper","init","settings","this","Date","now","setSettings","defaults","x","y","$container","$","appendTo","$bod","base","t","allowSavingAsNew","addListener","saveImage","bind","proxy","removeListener","$shade","setMaxImageSize","postActionRequest","browserViewportWidth","$doc","get","documentElement","clientWidth","browserViewportHeight","clientHeight","maxImageSize","Math","max","loadEditor","data","html","alert","$tabs","$viewsContainer","$views","innerHeight","innerWidth","updateSizeAndPosition","fabric","StaticCanvas","width","height","enableRetinaScaling","requestAnimationFrame","renderAll","imageUrl","getActionUrl","size","Image","fromURL","imageObject","set","originX","originY","left","top","add","getHeight","getWidth","_setFittedImageVerticeCoordinates","_repositionEditorElements","focalState","imageDimensions","getScaledImageDimensions","offsetX","offsetY","focal","focalData","adjustedX","adjustedY","storeFocalPointState","_createFocalPoint","_createViewport","storeCropperState","_addControlListeners","_handleMouseMove","_handleMouseDown","_handleMouseUp","ev","first","trigger","window","css","min-width","min-height","addClass","removeClass","previousEditorDimensions","setDimensions","getZoomToFitRatio","previouslyOccupiedArea","_getBoundingRectangle","_repositionCropper","getZoomToCoverRatio","_repositionImage","_repositionViewport","_repositionFocalPoint","_zoomImage","Rect","fill","globalCompositeOperation","sizeFactor","focalX","focalY","_isCenterInside","deltaX","deltaY","Group","Circle","radius","strokeWidth","stroke","toggleFocalPoint","remove","dimensions","state","scaledImageDimensions","currentWidth","newWidth","ratio","hasOrientationChanged","imageRatio","editorRatio","min","round","rotateImage","flipImage","straighteningInput","SlideRuleInput","onStart","_showGrid","onChange","slider","straighten","onEnd","_hideGrid","_cleanupFocalPointAfterStraighten","keyCode","SHIFT_KEY","constraintMenu","MenuBtn","onOptionSelect","option","setCroppingConstraint","enforceCroppingConstraint","menu","_handleTabClick","$tab","currentTarget","view","showView","$view","filter","enableSlider","disableSlider","disableCropMode","enableCropMode","zoomFactor","degrees","parseInt","imageZoomRatio","newAngle","angle","viewportProperties","imageProperties","angleInRadians","PI","newDeltaX","cos","sin","newDeltaY","modifiedDeltaX","modifiedDeltaY","temp","animate","duration","animationDuration","onComplete","cleanAngle","parseFloat","_adjustFocalPointByAngle","axis","editorCenter","setValue","properties","scaleY","scaleX","previousAngle","allowDegreeFractions","value","_adjustEditorElementsOnStraighten","newCenterX","newCenterY","angleDelta","currentZoomRatio","adjustmentRatio","cropperCenterX","cropperCenterY","imageVertices","getImageVerticeCoords","rectangle","_getZoomRatioToFitRectangle","opacity","object","containingObject","newFocalX","newFocalY","adjustedFocalX","adjustedFocalY","containingVertices","vertex","rectangleVertices","_getRectangleVertices","verticeIndex","length","arePointsInsideRectangle","edge","_getEdgeCrossed","rectangleCenter","distanceFromVertexToEdge","abs","sqrt","pow","distanceFromCenterToEdge","$button","hasClass","append","postData","imageRotation","replace","cropData","zoom","find","end","error","onSave","hide","scaledWidth","scaledHeight","boundingBox","_getImageBoundingBox","scale","vertScale","horiScale","getCombinedZoomRatio","i","strokeOptions","lineCount","gridWidth","gridHeight","xStep","yStep","push","Line","onFadeOut","destroy","show","removeAllListeners","callback","cropperData","_showCropper","_editorModeTransition","_hideCropper","targetZoom","inverseZoomFactor","imageOffsetX","imageOffsetY","clipperData","_setupCropperLayer","_redrawCropperElements","backgroundColor","hoverCursor","selection","position","rectangleRatio","rectWidth","rectHeight","lineOptions","gridOptions","pathGroup","Path","previousImageArea","currentOffset","currentArea","areaFactor","coordinateSet","a","b","c","d","_isMouseOver","move","handle","_cropperHandleHitTest","pageX","pageY","_handleFocalDrag","_handleCropperDrag","_handleCropperResize","_setMouseCursor","vertices","newX","newY","_adaptFocalColor","constraint","previousHeight","previousWidth","topDelta","leftDelta","change","match","cursor","parentOffset","offset","mouseX","mouseY","lb","rb","tb","bb","event","topLeft","topRight","bottomRight","bottomLeft","zoomMode","topVerticalSegment","bottomVerticalSegment","rightHorizontalSegment","leftHorizontalSegment","verticalOffset","horizontalOffset","_debug","fabricObj","debugger","points","ab","_getVector","bc","scalarAbAb","_getScalarProduct","scalarBcBc","point","ap","bp","scalarAbAp","scalarBcBp","projectsOnAB","projectsOnBC","_getVectorMagnitude","vector","_getAngleBetweenVectors","acos","edgePoints","centerPoint","smallestDiff","edgeCrossed","edgeIndex","toCenter","edgeVector","toVertex","diff","box","proportion","noop"],"mappings":"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","file":"AssetImageEditor.min.js"}