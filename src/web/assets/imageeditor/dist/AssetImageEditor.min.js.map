{"version":3,"sources":["AssetImageEditor.js"],"names":["Craft","AssetImageEditor","Garnish","Modal","extend","$body","$footer","$imageTools","$buttons","$cancelBtn","$replaceBtn","$saveBtn","$editorContainer","$straighten","$croppingCanvas","canvas","image","viewport","focalPoint","grid","croppingCanvas","clipper","croppingRectangle","cropperHandles","cropperGrid","croppingShade","imageStraightenAngle","viewportRotation","originalWidth","originalHeight","imageVerticeCoords","zoomRatio","animationInProgress","currentView","assetId","cacheBust","draggingCropper","scalingCropper","draggingFocal","previousMouseX","previousMouseY","shiftKeyHeld","editorHeight","editorWidth","cropperState","scaleFactor","flipData","focalPointState","renderImage","renderCropper","init","settings","this","Date","now","setSettings","defaults","x","y","$container","$","appendTo","$bod","base","t","allowSavingAsNew","addListener","saveImage","bind","proxy","removeListener","$shade","setMaxImageSize","postActionRequest","browserViewportWidth","$doc","get","documentElement","clientWidth","browserViewportHeight","clientHeight","maxImageSize","Math","max","loadEditor","data","html","alert","$tabs","$viewsContainer","$views","innerHeight","innerWidth","updateSizeAndPosition","fabric","StaticCanvas","width","height","enableRetinaScaling","requestAnimationFrame","renderAll","imageUrl","getActionUrl","size","Image","fromURL","imageObject","set","originX","originY","left","top","add","getHeight","getWidth","_setFittedImageVerticeCoordinates","_repositionEditorElements","focalState","imageDimensions","getScaledImageDimensions","offsetX","offsetY","focal","focalData","adjustedX","adjustedY","storeFocalPointState","_createFocalPoint","_createViewport","storeCropperState","_addControlListeners","_handleMouseMove","_handleMouseDown","_handleMouseUp","ev","first","trigger","window","css","min-width","min-height","addClass","removeClass","previousEditorDimensions","setDimensions","getZoomToFitRatio","previouslyOccupiedArea","_getBoundingRectangle","_repositionCropper","getZoomToCoverRatio","_repositionImage","_repositionViewport","_repositionFocalPoint","_zoomImage","Rect","fill","globalCompositeOperation","sizeFactor","focalX","focalY","_isCenterInside","deltaX","deltaY","Group","Circle","radius","strokeWidth","stroke","toggleFocalPoint","remove","dimensions","state","scaledImageDimensions","currentWidth","newWidth","ratio","hasOrientationChanged","imageRatio","editorRatio","min","round","rotateImage","flipImage","straighteningInput","SlideRuleInput","onStart","_showGrid","onChange","slider","straighten","onEnd","_hideGrid","_cleanupFocalPointAfterStraighten","keyCode","SHIFT_KEY","_handleTabClick","$tab","currentTarget","view","showView","$view","filter","enableSlider","disableSlider","disableCropMode","enableCropMode","zoomFactor","degrees","parseInt","imageZoomRatio","newAngle","angle","viewportProperties","imageProperties","angleInRadians","PI","newDeltaX","cos","sin","newDeltaY","modifiedDeltaX","modifiedDeltaY","temp","animate","duration","animationDuration","onComplete","cleanAngle","parseFloat","_adjustFocalPointByAngle","axis","editorCenter","setValue","properties","scaleY","scaleX","previousAngle","allowDegreeFractions","value","_adjustEditorElementsOnStraighten","newCenterX","newCenterY","angleDelta","currentZoomRatio","adjustmentRatio","cropperCenterX","cropperCenterY","imageVertices","getImageVerticeCoords","rectangle","_getZoomRatioToFitRectangle","opacity","object","containingObject","newFocalX","newFocalY","adjustedFocalX","adjustedFocalY","containingVertices","vertex","rectangleVertices","_getRectangleVertices","verticeIndex","length","arePointsInsideRectangle","edge","_getEdgeCrossed","rectangleCenter","distanceFromVertexToEdge","abs","sqrt","pow","distanceFromCenterToEdge","$button","hasClass","append","postData","imageRotation","replace","cropData","zoom","find","end","error","onSave","hide","scaledWidth","scaledHeight","boundingBox","_getImageBoundingBox","scale","vertScale","horiScale","getCombinedZoomRatio","i","strokeOptions","lineCount","gridWidth","gridHeight","xStep","yStep","push","Line","onFadeOut","destroy","show","removeAllListeners","_setEditorMode","mode","viewportDimensions","imageCoords","callback","noop","cropperData","_showCropper","_hideCropper","targetZoom","inverseZoomFactor","imageOffsetX","imageOffsetY","clipperData","_setupCropperLayer","_redrawCropperElements","backgroundColor","hoverCursor","selection","position","rectangleRatio","rectWidth","rectHeight","lineOptions","gridOptions","pathGroup","Path","previousImageArea","currentOffset","currentArea","areaFactor","coordinateSet","a","b","c","d","_isMouseOver","move","handle","_cropperHandleHitTest","pageX","pageY","_handleFocalDrag","_handleCropperDrag","_handleCropperResize","_setMouseCursor","vertices","newX","newY","cursor","parentOffset","offset","mouseX","mouseY","lb","rb","tb","bb","event","topLeft","topRight","bottomRight","bottomLeft","zoomMode","topVerticalSegment","bottomVerticalSegment","rightHorizontalSegment","leftHorizontalSegment","verticalOffset","horizontalOffset","_debug","fabricObj","debugger","points","ab","_getVector","bc","scalarAbAb","_getScalarProduct","scalarBcBc","point","ap","bp","scalarAbAp","scalarBcBp","projectsOnAB","projectsOnBC","_getVectorMagnitude","vector","_getAngleBetweenVectors","acos","edgePoints","centerPoint","smallestDiff","edgeCrossed","edgeIndex","toCenter","edgeVector","toVertex","diff","box","proportion"],"mappings":"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","file":"AssetImageEditor.min.js"}