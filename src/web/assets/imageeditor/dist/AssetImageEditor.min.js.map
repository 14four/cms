{"version":3,"sources":["AssetImageEditor.js"],"names":["Craft","AssetImageEditor","Garnish","Modal","extend","$body","$footer","$imageTools","$buttons","$cancelBtn","$replaceBtn","$saveBtn","$editorContainer","$straighten","$croppingCanvas","canvas","image","viewport","focalPoint","grid","croppingCanvas","clipper","croppingRectangle","cropperHandles","cropperGrid","croppingShade","imageStraightenAngle","viewportRotation","originalWidth","originalHeight","imageVerticeCoords","zoomRatio","animationInProgress","currentView","assetId","cacheBust","draggingCropper","scalingCropper","draggingFocal","previousMouseX","previousMouseY","shiftKeyHeld","editorHeight","editorWidth","cropperState","scaleFactor","flipData","focalPointState","renderImage","renderCropper","init","settings","this","Date","now","setSettings","defaults","x","y","$container","$","appendTo","$bod","base","t","allowSavingAsNew","addListener","saveImage","bind","proxy","removeListener","$shade","setMaxImageSize","postActionRequest","browserViewportWidth","$doc","get","documentElement","clientWidth","browserViewportHeight","clientHeight","maxImageSize","Math","min","loadEditor","data","html","alert","$tabs","$viewsContainer","$views","innerHeight","innerWidth","updateSizeAndPosition","fabric","StaticCanvas","width","height","enableRetinaScaling","requestAnimationFrame","renderAll","imageUrl","getActionUrl","size","Image","fromURL","imageObject","set","originX","originY","left","top","add","getHeight","getWidth","_setFittedImageVerticeCoordinates","_repositionEditorElements","focalState","imageDimensions","getScaledImageDimensions","offsetX","offsetY","focal","focalData","adjustedX","adjustedY","storeFocalPointState","_createFocalPoint","_createViewport","storeCropperState","_addControlListeners","_handleMouseMove","_handleMouseDown","_handleMouseUp","ev","first","trigger","window","css","min-width","min-height","addClass","removeClass","previousEditorDimensions","setDimensions","getZoomToFitRatio","previouslyOccupiedArea","_getBoundingRectangle","_repositionCropper","getZoomToCoverRatio","_repositionImage","_repositionViewport","_repositionFocalPoint","_zoomImage","Rect","fill","globalCompositeOperation","Group","Circle","radius","strokeWidth","stroke","toggleFocalPoint","remove","dimensions","state","scaledImageDimensions","sizeFactor","currentWidth","newWidth","ratio","hasOrientationChanged","imageRatio","editorRatio","round","rotateImage","flipImage","straighteningInput","SlideRuleInput","onStart","_showGrid","onChange","slider","straighten","onEnd","_hideGrid","keyCode","SHIFT_KEY","_handleTabClick","$tab","currentTarget","view","showView","$view","filter","enableSlider","disableSlider","disableCropMode","enableCropMode","zoomFactor","degrees","parseInt","imageZoomRatio","newAngle","angle","viewportProperties","imageProperties","deltaX","deltaY","angleInRadians","PI","newDeltaX","cos","sin","newDeltaY","modifiedDeltaX","modifiedDeltaY","temp","animate","duration","animationDuration","onComplete","cleanAngle","_adjustFocalPointByAngle","axis","editorCenter","setValue","properties","scaleY","scaleX","previousAngle","value","_adjustEditorElementsOnStraighten","newCenterX","newCenterY","angleDelta","currentZoomRatio","adjustmentRatio","cropperCenterX","cropperCenterY","imageVertices","getImageVerticeCoords","rectangle","_getZoomRatioToFitRectangle","focalX","focalY","newFocalX","newFocalY","adjustedFocalX","adjustedFocalY","containingVertices","vertex","rectangleVertices","_getRectangleVertices","verticeIndex","length","arePointsInsideRectangle","edge","_getEdgeCrossed","rectangleCenter","distanceFromVertexToEdge","abs","sqrt","pow","distanceFromCenterToEdge","$button","hasClass","append","postData","imageRotation","replace","cropData","zoom","find","end","onSave","hide","scaledWidth","scaledHeight","max","boundingBox","_getImageBoundingBox","scale","vertScale","horiScale","getCombinedZoomRatio","i","strokeOptions","lineCount","gridWidth","gridHeight","xStep","yStep","push","Line","onFadeOut","destroy","show","removeAllListeners","_setEditorMode","mode","viewportDimensions","imageCoords","callback","noop","cropperData","_showCropper","_hideCropper","imageOffsetX","imageOffsetY","clipperData","_setupCropperLayer","_redrawCropperElements","backgroundColor","hoverCursor","selection","position","rectangleRatio","rectWidth","rectHeight","lineOptions","gridOptions","pathGroup","Path","previousImageArea","currentOffset","currentArea","areaFactor","coordinateSet","a","b","c","d","_fabricObjectHitTest","move","handle","_cropperHandleHitTest","pageX","pageY","_handleFocalDrag","_handleCropperDrag","_handleCropperResize","_setMouseCursor","vertices","newX","newY","cursor","parentOffset","offset","mouseX","mouseY","lb","rb","tb","bb","event","object","topLeft","topRight","bottomRight","bottomLeft","zoomMode","topVerticalSegment","bottomVerticalSegment","rightHorizontalSegment","leftHorizontalSegment","verticalOffset","horizontalOffset","_debug","fabricObj","debugger","points","ab","_getVector","bc","scalarAbAb","_getScalarProduct","scalarBcBc","point","ap","bp","scalarAbAp","scalarBcBp","projectsOnAB","projectsOnBC","_getVectorMagnitude","vector","_getAngleBetweenVectors","acos","edgePoints","centerPoint","smallestDiff","edgeCrossed","edgeIndex","toCenter","edgeVector","toVertex","diff","box","proportion"],"mappings":"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","file":"AssetImageEditor.min.js"}