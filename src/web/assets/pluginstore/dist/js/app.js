(function(t){function e(e){for(var i,r,o=e[0],l=e[1],c=e[2],d=0,p=[];d<o.length;d++)r=o[d],a[r]&&p.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},a={app:0},s=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},3636:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pluginstore-modal-flex"},[t.$slots["body"]?[t._t("body")]:[t.$slots["header"]?n("header",{staticClass:"header"},[t._t("header")],2):t._e(),n("div",{staticClass:"pluginstore-modal-main"},[n("div",{staticClass:"pluginstore-modal-content"},[t._t("main")],2)])]],2)},a=[],s=n("2877"),r={},o=Object(s["a"])(r,i,a,!1,null,null,null);o.options.__file="Step.vue";e["default"]=o.exports},"56d7":function(t,e,n){"use strict";n.r(e);n("7514");var i=n("c93e"),a=(n("cadf"),n("551c"),n("097d"),n("8bbf")),s=n.n(a),r=n("f545"),o=n.n(r);function l(t){var e=2,n=parseFloat(t);return Math.round(n)===n&&(e=0),o.a.formatMoney(n,"$",e)}function c(t){return Craft.escapeHtml(t)}function u(t,e,n){return Craft.t(e,t,n)}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",.0f";return Craft.formatNumber(t,e)}var p=n("6389"),f=n.n(p),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("plugin-search",{attrs:{plugins:t.plugins},on:{showResults:function(e){t.showingSearchResults=!0},hideResults:function(e){t.showingSearchResults=!1}}}),n("a",{staticClass:"category-selector-btn",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showCategorySelector=!t.showCategorySelector}}},[t._v("All categories")]),n("div",{staticClass:"category-selector",class:{hidden:!t.showCategorySelector}},[n("div",{staticClass:"category-selector-header"},[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.showCategorySelector=!1}}},[t._v("Hide categories")])]),n("div",{staticClass:"category-selector-body"},[n("ul",{staticClass:"categories"},[t.CraftEdition<t.CraftPro||t.licensedEdition<t.CraftPro?n("li",[n("router-link",{attrs:{to:"/upgrade-craft"}},[n("img",{attrs:{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDBweCIgaGVpZ2h0PSIxMDBweCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Y3JhZnQ8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJjcmFmdCI+ICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbCIgZmlsbD0iI0RBNUE0NyIgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIj48L2NpcmNsZT4gICAgICAgICAgICA8cGF0aCBkPSJNNjUuMTMxNDQwNCwzNC4yNjI5Njc5IEM2NS40MTUyMjQxLDM0LjQ3NTEzMDEgNjUuNjgyNzkxNywzNC42OTk0NTQ0IDY1Ljk0NDk1MzksMzQuOTI3ODMyOCBMNzAuMTgyNzkxNywzMS42MzA1MzU1IEw3MC4zMTUyMjQxLDMxLjQ2MDI2NTIgQzY5LjY2MDE5NjUsMzAuODAwOTk5IDY4Ljk1ODM2NzUsMzAuMTg5OTQ3IDY4LjIxNTIyNDEsMjkuNjMxODg2OSBDNTguNDg5NTQ4NSwyMi4zNTQ4NTk4IDQzLjc5MjI1MTIsMjUuNDAwODA1OCAzNS4zODgxOTcxLDM2LjQzNTk0MDkgQzI2Ljk4OTU0ODUsNDcuNDY5NzI0NyAyOC4wNjM4NzI4LDYyLjMxMDI2NTIgMzcuNzg4MTk3MSw2OS41ODk5OTUgQzQ1LjczMDA4OSw3NS41MzA1MzU1IDU2Ljk4Mjc5MTcsNzQuNTg3MjkyMyA2NS40MTkyNzgyLDY4LjAzNTk0MDkgTDY1LjQxMjUyMTQsNjguMDE5NzI0NyBMNjEuMzc3Mzg2Myw2NC44ODQ1ODk2IEM1NS4xMjQ2ODM2LDY4Ljg2ODM3MzMgNDcuMzY5Mjc4Miw2OS4xNTQ4NTk4IDQxLjc1ODQ2NzQsNjQuOTU3NTYyNSBDMzQuMjg1NDk0NCw1OS4zNjgzNzMzIDMzLjQ2MTE3MDEsNDcuOTY1NjcwNiAzOS45MTY1NzU1LDM5LjQ4OTk5NSBDNDYuMzY5Mjc4MiwzMS4wMTI5Njc5IDU3LjY1OTgxODcsMjguNjczNzc4OCA2NS4xMzAwODksMzQuMjYyOTY3OSBMNjUuMTMxNDQwNCwzNC4yNjI5Njc5IFoiIGlkPSJQYXRoIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8L2c+ICAgIDwvZz48L3N2Zz4="}}),t._v("\n                        "+t._s(t._f("t")("Upgrade Craft CMS","app"))+"\n                    ")])],1):t._e(),t._l(t.categories,function(e){return n("li",[n("router-link",{attrs:{to:"/categories/"+e.id}},[n("img",{attrs:{src:e.iconUrl}}),t._v("\n                        "+t._s(e.title)+"\n                    ")])],1)})],2)])]),t.showingSearchResults?t._e():n("div",{staticClass:"ps-grid-wrapper has-sidebar"},[n("div",{staticClass:"ps-grid-sidebar categories-wrapper"},[n("h2",[t._v(t._s(t._f("t")("Categories","app")))]),n("ul",{staticClass:"categories"},[t.CraftEdition<t.CraftPro||t.licensedEdition<t.CraftPro?n("li",[n("router-link",{attrs:{to:"/upgrade-craft"}},[n("img",{attrs:{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDBweCIgaGVpZ2h0PSIxMDBweCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Y3JhZnQ8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+PC9kZWZzPiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJjcmFmdCI+ICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbCIgZmlsbD0iI0RBNUE0NyIgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIj48L2NpcmNsZT4gICAgICAgICAgICA8cGF0aCBkPSJNNjUuMTMxNDQwNCwzNC4yNjI5Njc5IEM2NS40MTUyMjQxLDM0LjQ3NTEzMDEgNjUuNjgyNzkxNywzNC42OTk0NTQ0IDY1Ljk0NDk1MzksMzQuOTI3ODMyOCBMNzAuMTgyNzkxNywzMS42MzA1MzU1IEw3MC4zMTUyMjQxLDMxLjQ2MDI2NTIgQzY5LjY2MDE5NjUsMzAuODAwOTk5IDY4Ljk1ODM2NzUsMzAuMTg5OTQ3IDY4LjIxNTIyNDEsMjkuNjMxODg2OSBDNTguNDg5NTQ4NSwyMi4zNTQ4NTk4IDQzLjc5MjI1MTIsMjUuNDAwODA1OCAzNS4zODgxOTcxLDM2LjQzNTk0MDkgQzI2Ljk4OTU0ODUsNDcuNDY5NzI0NyAyOC4wNjM4NzI4LDYyLjMxMDI2NTIgMzcuNzg4MTk3MSw2OS41ODk5OTUgQzQ1LjczMDA4OSw3NS41MzA1MzU1IDU2Ljk4Mjc5MTcsNzQuNTg3MjkyMyA2NS40MTkyNzgyLDY4LjAzNTk0MDkgTDY1LjQxMjUyMTQsNjguMDE5NzI0NyBMNjEuMzc3Mzg2Myw2NC44ODQ1ODk2IEM1NS4xMjQ2ODM2LDY4Ljg2ODM3MzMgNDcuMzY5Mjc4Miw2OS4xNTQ4NTk4IDQxLjc1ODQ2NzQsNjQuOTU3NTYyNSBDMzQuMjg1NDk0NCw1OS4zNjgzNzMzIDMzLjQ2MTE3MDEsNDcuOTY1NjcwNiAzOS45MTY1NzU1LDM5LjQ4OTk5NSBDNDYuMzY5Mjc4MiwzMS4wMTI5Njc5IDU3LjY1OTgxODcsMjguNjczNzc4OCA2NS4xMzAwODksMzQuMjYyOTY3OSBMNjUuMTMxNDQwNCwzNC4yNjI5Njc5IFoiIGlkPSJQYXRoIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8L2c+ICAgIDwvZz48L3N2Zz4="}}),t._v("\n                        "+t._s(t._f("t")("Upgrade Craft CMS","app"))+"\n                    ")])],1):t._e(),t._l(t.categories,function(e){return n("li",[n("router-link",{attrs:{to:"/categories/"+e.id}},[n("img",{attrs:{src:e.iconUrl}}),t._v("\n                        "+t._s(e.title)+"\n                    ")])],1)})],2)]),n("div",{staticClass:"ps-grid-main"},[t.featuredPlugins?[t._l(t.featuredPlugins,function(e){return[n("router-link",{staticClass:"right",attrs:{to:"/featured/"+e.id}},[t._v(t._s(t._f("t")("See all","app")))]),n("div",[n("h2",[t._v(t._s(e.title))]),n("plugin-grid",{attrs:{plugins:t.getPluginsByIds(e.plugins.slice(0,e.limit))}})],1)]})]:t._e(),t.activeTrialPlugins.length>0?[n("h2",[t._v(t._s(t._f("t")("Active Trials","app")))]),n("plugin-grid",{attrs:{plugins:t.activeTrialPlugins}})]:t._e()],2)])],1)},h=[],m=(n("a481"),n("5880")),v=n.n(m),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.plugins&&t.plugins.length>0?n("div",{class:t.cssClass},t._l(t.plugins,function(e){return n("div",{staticClass:"ps-grid-box"},[n("plugin-card",{attrs:{plugin:e},on:{click:function(n){t.showPlugin(e)}}})],1)})):t._e()])},_=[],b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.plugin?n("div",{staticClass:"plugin-card",on:{click:function(e){t.$emit("click")}}},[n("div",{staticClass:"plugin-icon"},[t.plugin.iconUrl?n("img",{attrs:{src:t.plugin.iconUrl,height:"32"}}):n("img",{attrs:{src:t.defaultPluginSvg,height:"32"}})]),n("div",[n("strong",[t._v(t._s(t.plugin.name))]),n("div",[t._v(t._s(t.plugin.shortDescription))]),null!=t.plugin.editions[0].price&&"0.00"!==t.plugin.editions[0].price?n("p",{staticClass:"light"},[t._v(t._s(t._f("currency")(t.plugin.editions[0].price)))]):n("p",{staticClass:"light"},[t._v("Free")]),t.isInstalled(t.plugin)?n("div",{staticClass:"installed",attrs:{"data-icon":"check"}}):t._e()])]):t._e()},y=[],I={props:["plugin"],computed:Object(i["a"])({},Object(m["mapState"])({defaultPluginSvg:function(t){return t.craft.defaultPluginSvg}}),Object(m["mapGetters"])({isInstalled:"pluginStore/isInstalled"}))},S=I,M=n("2877"),w=Object(M["a"])(S,b,y,!1,null,null,null);w.options.__file="PluginCard.vue";var k=w.exports,N={components:{PluginCard:k},props:["plugins","columns"],computed:{cssClass:function(){var t="ps-grid-plugins";return this.columns&&(t+=" ps-grid-plugins-"+this.columns),t}},methods:{showPlugin:function(t){this.$root.showPlugin(t)}}},P=N,T=Object(M["a"])(P,C,_,!1,null,null,null);T.options.__file="PluginGrid.vue";var D=T.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"toolbar"},[n("div",{staticClass:"flex"},[n("div",{staticClass:"flex-grow texticon search icon clearable"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"text fullwidth",attrs:{id:"searchQuery",name:"searchQuery",type:"text",placeholder:t._f("t")("Search plugins","app")},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),n("div",{staticClass:"clear",class:{hidden:0==t.searchQuery.length},attrs:{title:"Clear"},on:{click:function(e){t.searchQuery=""}}})]),t.sort?[n("sort-menu-btn",{attrs:{attributes:t.sortMenuBtnAttributes,value:t.sort},on:{"update:value":function(e){return t.$emit("update:sort",e)}}})]:t._e(),n("div",{staticClass:"spinner",class:{invisible:!t.showSpinner}})],2)]),n("plugin-grid",{attrs:{plugins:t.pluginsToRender,columns:4}})],1)},j=[],O=(n("7f7f"),n("9380")),L=n.n(O),E=n("8a30"),A=n.n(E),z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"btn menubtn sortmenubtn",attrs:{"data-icon":t.value.direction}},[t._v(t._s(t.menuLabel))]),n("div",{staticClass:"menu"},[n("ul",{staticClass:"padded sort-attributes"},t._l(t.attributes,function(e,i){return n("li",[n("a",{class:{sel:t.value.attribute==i},on:{click:function(e){t.selectAttribute(i)}}},[t._v(t._s(e))])])})),n("hr"),n("ul",{staticClass:"padded sort-directions"},t._l(t.directions,function(e,i){return n("li",[n("a",{class:{sel:t.value.direction==i},on:{click:function(e){t.selectDirection(i)}}},[t._v(t._s(e))])])}))])])},U=[],B={props:["attributes","value"],data:function(){return{defaultDirection:"asc",directions:null}},computed:{menuLabel:function(){if(this.attributes)return this.attributes[this.value.attribute]}},methods:{selectAttribute:function(t){this.$emit("update:value",{attribute:t,direction:this.value.direction})},selectDirection:function(t){this.$emit("update:value",{attribute:this.value.attribute,direction:t})}},mounted:function(){this.directions={asc:this.$options.filters.t("Ascending","app"),desc:this.$options.filters.t("Descending","app")},this.value.direction||this.$emit("update:value",{attribute:this.value.attribute,direction:this.defaultDirection}),Craft.initUiElements()}},Q=B,G=Object(M["a"])(Q,z,U,!1,null,null,null);G.options.__file="SortMenuBtn.vue";var R=G.exports,Z={components:{PluginGrid:D,SortMenuBtn:R},props:["plugins","sort"],data:function(){return{searchQuery:"",showSpinner:!1,selectedAttribute:null,selectedDirection:null,sortMenuBtnAttributes:null}},computed:{pluginsToRender:function(){var t=this.searchQuery;return t?(this.$emit("showResults"),L()(this.plugins,function(e){if(e.packageName&&A()(e.packageName.toLowerCase(),t.toLowerCase()))return!0;if(e.name&&A()(e.name.toLowerCase(),t.toLowerCase()))return!0;if(e.shortDescription&&A()(e.shortDescription.toLowerCase(),t.toLowerCase()))return!0;if(e.description&&A()(e.description.toLowerCase(),t.toLowerCase()))return!0;if(e.developerName&&A()(e.developerName.toLowerCase(),t.toLowerCase()))return!0;if(e.developerUrl&&A()(e.developerUrl.toLowerCase(),t.toLowerCase()))return!0;if(e.keywords.length>0)for(var n=0;n<e.keywords.length;n++)if(A()(e.keywords[n].toLowerCase(),t.toLowerCase()))return!0})):(this.$emit("hideResults"),[])}},mounted:function(){this.sortMenuBtnAttributes={activeInstalls:this.$options.filters.t("Popularity","app"),lastUpdate:this.$options.filters.t("Last Update","app"),name:this.$options.filters.t("Name","app"),price:this.$options.filters.t("Price","app")}}},Y=Z,F=Object(M["a"])(Y,x,j,!1,null,null,null);F.options.__file="PluginSearch.vue";var H=F.exports,K={components:{PluginGrid:D,PluginSearch:H},data:function(){return{showingSearchResults:!1,showCategorySelector:!1}},computed:Object(i["a"])({},Object(m["mapState"])({categories:function(t){return t.pluginStore.categories},featuredPlugins:function(t){return t.pluginStore.featuredPlugins},plugins:function(t){return t.pluginStore.plugins},licensedEdition:function(t){return t.craft.licensedEdition},CraftEdition:function(t){return t.craft.CraftEdition},CraftPro:function(t){return t.craft.CraftPro}}),Object(m["mapGetters"])({activeTrialPlugins:"cart/activeTrialPlugins",getPluginsByIds:"pluginStore/getPluginsByIds"})),created:function(){this.$root.pageTitle=this.$options.filters.t("Plugin Store","app")},mounted:function(){this.$root.crumbs=null;var t=this.$route.params.pluginHandle;if(t){this.$router.replace({path:"/"});var e=this.$store.getters["pluginStore/getPluginByHandle"](t);this.$root.pluginStoreDataLoaded?this.$root.showPlugin(e):this.$root.$on("allDataLoaded",function(){this.$root.showPlugin(e)}.bind(this))}}},V=K,J=Object(M["a"])(V,g,h,!1,null,null,null);J.options.__file="Index.vue";var W=J.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.category?n("div",[n("plugin-index",{attrs:{plugins:t.plugins,columns:4}})],1):t._e()},q=[],tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("plugin-search",{attrs:{plugins:t.pluginsToRender,sort:t.sort},on:{showResults:function(e){t.showingSearchResults=!0},hideResults:function(e){t.showingSearchResults=!1},"update:sort":function(e){t.sort=e}}}),t.showingSearchResults?t._e():n("plugin-grid",{attrs:{plugins:t.pluginsToRender,columns:t.columns}})],1)},et=[],nt=(n("55dd"),n("b8ce")),it=n.n(nt),at={components:{PluginGrid:D,PluginSearch:H},props:["plugins","columns"],data:function(){return{showingSearchResults:!1,sort:{attribute:"activeInstalls",direction:"desc"}}},computed:{pluginsToRender:function(){if(!this.plugins)return[];var t=it()(this.plugins),e=this.sort.attribute,n=this.sort.direction;function i(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0}function a(t,n){return t[e]>n[e]?-1:t[e]<n[e]?1:0}return"desc"===n?t.sort(a):t.sort(i),t}}},st=at,rt=Object(M["a"])(st,tt,et,!1,null,null,null);rt.options.__file="PluginIndex.vue";var ot=rt.exports,lt={components:{PluginIndex:ot},data:function(){return{categoryId:null}},computed:Object(i["a"])({},Object(m["mapGetters"])({getCategoryById:"pluginStore/getCategoryById",getPluginsByCategory:"pluginStore/getPluginsByCategory"}),{category:function(){var t=this.getCategoryById(this.categoryId);return t&&(this.$root.pageTitle=t.title),t},plugins:function(){return this.getPluginsByCategory(this.categoryId)}}),watch:{"$route.params.id":function(t){this.categoryId=t}},created:function(){this.$root.crumbs=[{label:this.$options.filters.t("Plugin Store","app"),path:"/"}],this.categoryId=this.$route.params.id}},ct=lt,ut=Object(M["a"])(ct,X,q,!1,null,null,null);ut.options.__file="Category.vue";var dt=ut.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.cart?n("div",{ref:"upgradecraft",attrs:{id:"upgrade-craft"}},[n("div",{staticClass:"body",attrs:{id:"upgrade-craft-compare"}},[n("table",{staticClass:"data fullwidth"},[n("thead",[n("tr",{staticClass:"logos"},[n("th",[n("img",{attrs:{src:t.craftLogo,width:"70",height:"70"}})]),n("th",{attrs:{scope:"col"}},[n("h1",{staticClass:"logo"},[t._v("Solo")]),n("p",[t._v(t._s(t._f("t")("For when you’re building a website for yourself or a friend.","app")))])]),n("th",{attrs:{scope:"col"}},[n("h1",{staticClass:"logo"},[t._v("Pro")]),n("p",[t._v(t._s(t._f("t")("For when you’re building something professionally for a client or team.","app")))])])]),n("tr",{staticClass:"license-statuses"},[n("td"),n("td",[n("status-badge",{attrs:{edition:t.CraftSolo}})],1),n("td",[n("status-badge",{attrs:{edition:t.CraftPro}})],1)]),n("tr",{staticClass:"price"},[n("th",{staticClass:"feature",attrs:{scope:"row"}}),n("td",[t._v(t._s(t._f("t")("Free","app")))]),t.editions?n("td",[t._v("\n                    "+t._s(t._f("t")("{price} plus {renewalPrice}/year for updates","app",{price:t.$options.filters.currency(t.editions.pro.price),renewalPrice:t.$options.filters.currency(t.editions.pro.renewalPrice)}))+"\n                ")]):t._e()]),n("tr",{staticClass:"buybtns"},[n("td"),n("td",[n("buy-btn",{attrs:{edition:t.CraftSolo,"edition-handle":"solo"}})],1),n("td",[n("buy-btn",{attrs:{edition:t.CraftPro,"edition-handle":"pro"}})],1)])]),n("tbody",[n("tr",[n("th",{staticClass:"group",attrs:{colspan:"3"}},[t._v(t._s(t._f("t")("Features","app")))])]),n("tr",[n("th",{staticClass:"feature",attrs:{scope:"row"}},[t._v(t._s(t._f("t")("Content Modeling","app"))+" "),n("span",{staticClass:"info"},[t._v(t._s(t._f("t")("Includes Sections, Global sets, Category groups, Tag groups, Asset volumes, Custom fields, Entry versioning, and Entry drafts","app")))])]),t._m(0),t._m(1)]),n("tr",[n("th",{staticClass:"feature",attrs:{scope:"row"}},[t._v(t._s(t._f("t")("Multi-site Multi-lingual","app"))+" "),n("span",{staticClass:"info"},[t._v(t._s(t._f("t")("Includes Multiple locales, Section and entry locale targeting, Content translations","app")))])]),t._m(2),t._m(3)]),n("tr",[n("th",{staticClass:"feature",attrs:{scope:"row"}},[t._v(t._s(t._f("t")("Cloud Storage Integration","app")))]),t._m(4),t._m(5)]),n("tr",[n("th",{staticClass:"feature",attrs:{scope:"row"}},[t._v(t._s(t._f("t")("User Accounts","app"))+" "),n("span",{staticClass:"info"},[t._v(t._s(t._f("t")("Includes User accounts, User groups, User permissions, Public user registration","app")))])]),n("td"),t._m(6)]),n("tr",[n("th",{staticClass:"feature",attrs:{scope:"row"}},[t._v(t._s(t._f("t")("System Branding","app"))+" "),n("span",{staticClass:"info"},[t._v(t._s(t._f("t")("Includes Custom login screen logo, Custom site icon, Custom HTML email template, Custom email message wording","app")))])]),n("td"),t._m(7)]),n("tr",[n("th",{staticClass:"group",attrs:{colspan:"3"}},[t._v(t._s(t._f("t")("Support","app")))])]),n("tr",[n("th",{staticClass:"feature",attrs:{scope:"row"}},[t._v(t._s(t._f("t")("Security & Bug Fixes","app")))]),t._m(8),t._m(9)]),n("tr",[n("th",{staticClass:"feature",attrs:{scope:"row"}},[t._v(t._s(t._f("t")("Community Support (Slack, Stack Exchange)","app")))]),t._m(10),t._m(11)]),n("tr",[n("th",{staticClass:"feature",attrs:{scope:"row"}},[t._v(t._s(t._f("t")("Developer Support","app")))]),n("td"),t._m(12)])])])])]):t._e()},ft=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",{attrs:{"data-icon":"check"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",{attrs:{"data-icon":"check"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",{attrs:{"data-icon":"check"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",{attrs:{"data-icon":"check"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",{attrs:{"data-icon":"check"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",{attrs:{"data-icon":"check"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",{attrs:{"data-icon":"check"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",{attrs:{"data-icon":"check"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",{attrs:{"data-icon":"check"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",{attrs:{"data-icon":"check"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",{attrs:{"data-icon":"check"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",{attrs:{"data-icon":"check"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",{attrs:{"data-icon":"check"}})])}],gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.CraftEdition==t.edition?[t.licensedEdition>=t.edition?[n("div",{staticClass:"license-status installed",attrs:{"data-icon":"check"}},[t._v(t._s(t._f("t")("Installed","app")))])]:[n("div",{staticClass:"license-status installed",attrs:{"data-icon":"check"}},[t._v(t._s(t._f("t")("Installed as a trial","app")))])]]:t.licensedEdition==t.edition?[n("div",{staticClass:"license-status licensed",attrs:{"data-icon":"check"}},[t._v(t._s(t._f("t")("Licensed","app")))])]:t._e()],2)},ht=[],mt={props:["edition"],computed:Object(i["a"])({},Object(m["mapState"])({cart:function(t){return t.cart.cart},licensedEdition:function(t){return t.craft.licensedEdition},CraftEdition:function(t){return t.craft.CraftEdition}}))},vt=mt,Ct=Object(M["a"])(vt,gt,ht,!1,null,null,null);Ct.options.__file="StatusBadge.vue";var _t=Ct.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btngroup"},[t.edition>t.licensedEdition?[t.isCmsEditionInCart(t.editionHandle)?[n("div",{staticClass:"btn submit disabled"},[t._v(t._s(t._f("t")("Added to cart","app")))])]:[n("div",{staticClass:"btn submit",on:{click:function(e){t.buyCraft(t.editionHandle)}}},[t._v(t._s(t._f("t")("Buy now","app")))])]]:t._e(),t.canTestEditions&&t.edition!=t.CraftEdition&&t.edition>t.licensedEdition?[n("div",{staticClass:"btn",on:{click:function(e){t.installCraft(t.editionHandle)}}},[t._v(t._s(t._f("t")("Try for free","app")))])]:t._e(),t.edition==t.licensedEdition&&t.edition!=t.CraftEdition?[n("div",{staticClass:"btn",on:{click:function(e){t.installCraft(t.editionHandle)}}},[t._v(t._s(t._f("t")("Reactivate","app")))])]:t._e(),t.loading?n("div",{staticClass:"spinner"}):t._e()],2)},yt=[],It={props:["edition","edition-handle"],data:function(){return{loading:!1}},computed:Object(i["a"])({},Object(m["mapState"])({cart:function(t){return t.cart.cart},licensedEdition:function(t){return t.craft.licensedEdition},canTestEditions:function(t){return t.craft.canTestEditions},CraftEdition:function(t){return t.craft.CraftEdition}}),Object(m["mapGetters"])({isCmsEditionInCart:"cart/isCmsEditionInCart"})),methods:Object(i["a"])({},Object(m["mapActions"])({addToCart:"cart/addToCart",tryEdition:"craft/tryEdition",getCraftData:"craft/getCraftData"}),{buyCraft:function(t){var e=this;this.loading=!0;var n={type:"cms-edition",edition:t,licenseKey:window.cmsLicenseKey,autoRenew:!1};this.addToCart([n]).then(function(){e.loading=!1,e.$root.openModal("cart")}).catch(function(){e.loading=!1})},installCraft:function(t){var e=this;this.loading=!0,this.tryEdition(t).then(function(){e.getCraftData().then(function(){e.loading=!1,e.$root.displayNotice("Craft CMS edition changed.")})}).catch(function(){e.loading=!1,e.$root.displayError("Couldn’t change Craft CMS edition.")})}})},St=It,Mt=Object(M["a"])(St,bt,yt,!1,null,null,null);Mt.options.__file="BuyBtn.vue";var wt=Mt.exports,kt={components:{StatusBadge:_t,BuyBtn:wt},computed:Object(i["a"])({},Object(m["mapState"])({cart:function(t){return t.cart.cart},craftLogo:function(t){return t.craft.craftLogo},CraftPro:function(t){return t.craft.CraftPro},CraftSolo:function(t){return t.craft.CraftSolo},editions:function(t){return t.craft.editions}})),created:function(){this.$root.crumbs=[{label:this.$options.filters.t("Plugin Store","app"),path:"/"}],this.$root.pageTitle=this.$options.filters.t("Upgrade Craft CMS","app")},mounted:function(){this.$root.$on("allDataLoaded",function(){Craft.initUiElements(this.$refs.upgradecraft)}.bind(this)),Craft.initUiElements(this.$refs.upgradecraft)}},Nt=kt,$t=Object(M["a"])(Nt,pt,ft,!1,null,null,null);$t.options.__file="UpgradeCraft.vue";var Pt=$t.exports,Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"ps-grid-wrapper has-sidebar"},[n("div",{staticClass:"ps-grid-sidebar"},[n("div",{staticClass:"developer-card"},[t.loading||!t.developer?[n("div",{staticClass:"spinner"})]:[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:t.developer.photoUrl}})]),n("ul",[n("li",[n("strong",[t._v(t._s(t.developer.developerName))])]),n("li",[t._v(t._s(t.developer.location))])]),n("ul",{staticClass:"links"},[n("li",[n("a",{staticClass:"btn",attrs:{href:t.developer.developerUrl}},[t._v(t._s(t._f("t")("Website","app")))])]),n("li",[n("a",{staticClass:"btn",attrs:{href:t.developer.developerUrl}},[t._v(t._s(t._f("t")("Contact","app")))])])])]],2)]),n("div",{staticClass:"ps-grid-main"},[n("plugin-index",{attrs:{plugins:t.plugins,columns:"3"}})],1)])])},Dt=[],xt={data:function(){return{plugins:[],loading:!1}},components:{PluginIndex:ot},computed:Object(i["a"])({},Object(m["mapState"])({developer:function(t){return t.pluginStore.developer}})),mounted:function(){var t=this,e=this.$route.params.id;this.loading=!0,this.plugins=this.$store.getters["pluginStore/getPluginsByDeveloperId"](e),this.$store.dispatch("pluginStore/getDeveloper",e).then(function(e){t.$root.pageTitle=t.$options.filters.escapeHtml(e.developerName),t.$root.loading=!1,t.loading=!1}).catch(function(e){t.$root.loading=!1,t.loading=!1}),this.$root.crumbs=[{label:this.$options.filters.t("Plugin Store","app"),path:"/"}]}},jt=xt,Ot=Object(M["a"])(jt,Tt,Dt,!1,null,null,null);Ot.options.__file="Developer.vue";var Lt=Ot.exports,Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.featuredPlugin?n("div",[n("plugin-grid",{attrs:{columns:4,plugins:t.getPluginsByIds(t.featuredPlugin.plugins)}})],1):t._e()},At=[],zt={components:{PluginGrid:D},computed:Object(i["a"])({},Object(m["mapGetters"])({getFeaturedPlugin:"pluginStore/getFeaturedPlugin",getPluginsByIds:"pluginStore/getPluginsByIds"}),{featuredPlugin:function(){var t=this.getFeaturedPlugin(this.$route.params.id);return t&&(this.$root.pageTitle=this.$options.filters.escapeHtml(t.title)),t}}),created:function(){this.$root.crumbs=[{label:this.$options.filters.t("Plugin Store","app"),path:"/"}]}},Ut=zt,Bt=Object(M["a"])(Ut,Et,At,!1,null,null,null);Bt.options.__file="FeaturedPlugins.vue";var Qt=Bt.exports,Gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("status-message",{attrs:{message:t.statusMessage}}):t._e()],1)},Rt=[],Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"spinner big",class:{error:t.error},attrs:{id:"graphic"}}),n("div",{attrs:{id:"status"}},[t._v(t._s(t.message))])])},Yt=[],Ft={props:["message","error"]},Ht=Ft,Kt=Object(M["a"])(Ht,Zt,Yt,!1,null,null,null);Kt.options.__file="StatusMessage.vue";var Vt=Kt.exports,Jt={data:function(){return{loading:!1,statusMessage:null}},components:{StatusMessage:Vt},methods:{buyPlugin:function(t){var e=this;if(!this.isPluginBuyable(t))return this.loading=!1,void this.$router.push({path:"/"});if(this.isInCart(t))this.$router.push({path:"/"}),this.$root.openModal("cart");else{var n={type:"plugin-edition",plugin:t.handle,edition:t.editions[0].handle,autoRenew:!1,cmsLicenseKey:window.cmsLicenseKey};this.$store.dispatch("cart/addToCart",[n]).then(function(){e.loading=!1,e.$router.push({path:"/"}),e.$root.openModal("cart")})}},isPluginBuyable:function(t){if(null!==t.editions[0].price&&"0.00"!==t.editions[0].price){if(!this.isInstalled(t))return!0;if(!this.pluginHasLicenseKey(t.handle))return!0}return!1}},computed:Object(i["a"])({},Object(m["mapGetters"])({isInCart:"cart/isInCart",isInstalled:"pluginStore/isInstalled",pluginHasLicenseKey:"craft/pluginHasLicenseKey"})),mounted:function(){this.loading=!0,this.statusMessage=this.$options.filters.t("Loading Plugin Store…","app");var t=this.$route.params.pluginHandle,e=this.$store.getters["pluginStore/getPluginByHandle"](t);this.$root.pluginStoreDataLoaded&&this.$root.craftIdDataLoaded&&this.$root.cartDataLoaded?this.buyPlugin(e):this.$root.$on("allDataLoaded",function(){this.buyPlugin(e)}.bind(this))}},Wt=Jt,Xt=Object(M["a"])(Wt,Gt,Rt,!1,null,null,null);Xt.options.__file="Buy.vue";var qt=Xt.exports,te=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("Translations")]),n("p",[t._v(t._s(t._f("currency")(t.somePrice))+" per year for updates")]),n("p",[t._v(t._s(t._f("t")("{price} per year for updates","app",{price:t.$root.$options.filters.currency(t.somePrice)})))]),t._m(0),n("p",{domProps:{innerHTML:t._s(t.craftTranslation)}}),n("h2",[t._v("Modal")]),n("p",[n("a",{on:{click:function(e){t.openModal()}}},[t._v("Open Garnish Modal")])]),n("div",{staticClass:"hidden"},[n("div",{ref:"garnishmodalcontent",staticClass:"modal"},[n("div",{staticClass:"body"},[t._v("\n                Hello World\n            ")])])])])},ee=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("{{ \"Go to {link}\"|t('app', { link: '"),n("a",{attrs:{href:"#"}},[t._v("test")]),t._v("' }) }}")])}],ne={data:function(){return{somePrice:"99.00",modal:null}},computed:{craftTranslation:function(){return Craft.t("app","Go to {link}",{link:'<a href="#">test</a>'})}},created:function(){this.$root.crumbs=[{label:this.$options.filters.t("Plugin Store","app"),path:"/"}]},mounted:function(){this.modal=new Garnish.Modal(this.$refs.garnishmodalcontent,{autoShow:!1,resizable:!0})},methods:{openModal:function(){this.modal.show()}}},ie=ne,ae=Object(M["a"])(ie,te,ee,!1,null,null,null);ae.options.__file="Tests.vue";var se=ae.exports,re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"spinner big error",attrs:{id:"graphic"}}),n("div",{attrs:{id:"status"}},[t._v(t._s(t.statusMessage))])])},oe=[],le={computed:{statusMessage:function(){return this.$options.filters.t("Page not found.","app")}}},ce=le,ue=Object(M["a"])(ce,re,oe,!1,null,null,null);ue.options.__file="NotFound.vue";var de=ue.exports;s.a.use(f.a);var pe=new f.a({base:window.pluginStoreAppBaseUrl,mode:"history",routes:[{path:"/",name:"Index",component:W},{path:"/plugin/:pluginHandle",name:"Plugin",component:W},{path:"/categories/:id",name:"Category",component:dt},{path:"/upgrade-craft",name:"UpgradeCraft",component:Pt},{path:"/developer/:id",name:"Developer",component:Lt},{path:"/featured/:id",name:"FeaturedPlugins",component:Qt},{path:"/buy/:pluginHandle",name:"Buy",component:qt},{path:"/tests",name:"Tests",component:se},{path:"*",name:"NotFound",component:de}]}),fe=(n("ac6a"),n("cebe")),ge=n.n(fe),he={createCart:function(t,e,n){ge.a.post(Craft.getActionUrl("plugin-store/create-cart"),t,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(t){return e(t.data)}).catch(function(t){return n(t)})},updateCart:function(t,e,n,i){e.orderNumber=t,ge.a.post(Craft.getActionUrl("plugin-store/update-cart"),e,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(t){return n(t.data)}).catch(function(t){return i(t)})},resetOrderNumber:function(){localStorage.removeItem("orderNumber")},saveOrderNumber:function(t){localStorage.setItem("orderNumber",t)},getOrderNumber:function(t){var e=localStorage.getItem("orderNumber");return t(e)},getCart:function(t,e,n){var i={orderNumber:t};ge.a.get(Craft.getActionUrl("plugin-store/get-cart",i)).then(function(t){return e(t.data)}).catch(function(t){return n(t)})},checkout:function(t){return ge.a.post(Craft.getActionUrl("plugin-store/checkout"),t,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}})},savePluginLicenseKeys:function(t){return ge.a.post(Craft.getActionUrl("plugin-store/save-plugin-license-keys"),t,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}})}};s.a.use(v.a);var me={checkoutStatus:null,cart:null,stripePublicKey:null,identityMode:"craftid"},ve={isInCart:function(t){return function(e){return t.cart.lineItems.find(function(t){return t.purchasable.pluginId==e.id})}},isCmsEditionInCart:function(t){return function(e){return t.cart.lineItems.find(function(t){return"cms-edition"===t.purchasable.type&&t.purchasable.handle===e})}},activeTrialPlugins:function(t,e,n,i){return n.pluginStore.plugins.filter(function(t){if(t.editions[0].price>0&&!i["craft/pluginHasLicenseKey"](t.handle))return i["craft/installedPlugins"].find(function(e){return t.handle===e.handle})})},cartItems:function(t,e,n){var i=[];if(t.cart){var a=t.cart.lineItems;a.forEach(function(t){var e={};e.lineItem=t,"plugin-edition"===t.purchasable.type&&(e.plugin=n.pluginStore.plugins.find(function(e){return e.handle===t.purchasable.plugin.handle})),i.push(e)})}return i}},Ce={addToCart:function(t,e){var n=t.commit,i=t.state;return new Promise(function(t,a){var s=i.cart,r=be.getCartItemsData(s);e.forEach(function(t){var e=r.find(function(e){return e.plugin===t.plugin});e||r.push(t)});var o={items:r};he.updateCart(s.number,o,function(e){n("updateCart",{response:e}),t(e)},function(t){a(t)})})},removeFromCart:function(t,e){var n=t.commit,i=t.state;return new Promise(function(t,a){var s=i.cart,r=be.getCartItemsData(s);r.splice(e,1);var o={items:r};he.updateCart(s.number,o,function(e){n("updateCart",{response:e}),t(e)},function(t){a(t)})})},checkout:function(t,e){t.dispatch,t.commit;return new Promise(function(t,n){he.checkout(e).then(function(e){t(e)}).catch(function(t){n(t)})})},getCart:function(t){var e=t.dispatch,n=t.commit,i=t.rootState;return new Promise(function(t,a){e("getOrderNumber").then(function(s){if(s)he.getCart(s,function(s){if(s.error){var r={};i.craft.craftId||(r.email=i.craft.currentUser.email),he.createCart(r,function(i){n("updateCart",{response:i}),e("saveOrderNumber",{orderNumber:i.cart.number}),t(s)},function(t){a(t)})}else n("updateCart",{response:s}),t(s)},function(t){a(t)});else{var r={};i.craft.craftId||(r.email=i.craft.currentUser.email),he.createCart(r,function(i){n("updateCart",{response:i}),e("saveOrderNumber",{orderNumber:i.cart.number}),t(i)},function(t){a(t)})}})})},saveCart:function(t,e){var n=t.commit,i=t.state;return new Promise(function(t,a){var s=i.cart;he.updateCart(s.number,e,function(e){e.errors?a(e):(n("updateCart",{response:e}),t(e))},function(t){a(t)})})},resetCart:function(t){var e=t.commit,n=t.dispatch;return new Promise(function(t,i){e("resetCart"),n("resetOrderNumber"),n("getCart").then(function(e){t(e)}).catch(function(t){i(t)})})},getOrderNumber:function(t){var e=t.state;return new Promise(function(t,n){if(e.cart&&e.cart.number){var i=e.cart.number;t(i)}else he.getOrderNumber(function(e){t(e)},function(t){n(t)})})},resetOrderNumber:function(){he.resetOrderNumber()},saveOrderNumber:function(t,e){t.state;var n=e.orderNumber;he.saveOrderNumber(n)},savePluginLicenseKeys:function(t,e){t.state;var n=t.rootState;return new Promise(function(t,i){var a=[];e.lineItems.forEach(function(t){"plugin-edition"===t.purchasable.type&&n.craft.installedPlugins.find(function(e){return e.handle===t.purchasable.plugin.handle})&&a.push({handle:t.purchasable.plugin.handle,key:t.options.licenseKey.substr(4)})});var s={pluginLicenseKeys:a};he.savePluginLicenseKeys(s).then(function(e){t(e)}).catch(function(t){i(t)})})}},_e={updateCart:function(t,e){var n=e.response;t.cart=n.cart,t.stripePublicKey=n.stripePublicKey},resetCart:function(t){t.cart=null},changeIdentityMode:function(t,e){t.identityMode=e}},be={getCartData:function(t){var e={email:t.email,billingAddress:{firstName:t.billingAddress.firstName,lastName:t.billingAddress.lastName},items:[]};return e.items=this.getCartItemsData(t),e},getCartItemsData:function(t){for(var e=[],n=0;n<t.lineItems.length;n++){var i=t.lineItems[n];switch(i.purchasable.type){case"plugin-edition":e.push({type:i.purchasable.type,plugin:i.purchasable.plugin.handle,edition:i.purchasable.handle,autoRenew:i.options.autoRenew,cmsLicenseKey:i.options.cmsLicenseKey});break;case"cms-edition":e.push({type:i.purchasable.type,edition:i.purchasable.handle,licenseKey:i.options.licenseKey,autoRenew:i.options.autoRenew});break}}return e}},ye={namespaced:!0,state:me,getters:ve,actions:Ce,mutations:_e},Ie={getDeveloper:function(t,e,n){ge.a.get(Craft.getActionUrl("plugin-store/developer"),{params:{developerId:t},headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(t){return e(t.data)}).catch(function(t){return n(t)})},getPluginStoreData:function(t,e){ge.a.get(Craft.getActionUrl("plugin-store/plugin-store-data"),"",{headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(e){return t(e)}).catch(function(t){return e(t)})},getPluginDetails:function(t,e,n){ge.a.get(Craft.getActionUrl("plugin-store/plugin-details"),{params:{pluginId:t},headers:{"X-CSRF-Token":Craft.csrfTokenValue}}).then(function(t){return e(t)}).catch(function(t){return n(t)})}},Se={categories:[],developer:null,featuredPlugins:[],plugin:null,plugins:[]},Me={getFeaturedPlugin:function(t){return function(e){return t.featuredPlugins.find(function(t){return t.id==e})}},getCategoryById:function(t){return function(e){return t.categories.find(function(t){return t.id==e})}},isInstalled:function(t,e,n,i){return function(t){return i["craft/installedPlugins"].find(function(e){return e.id==t.id})}},getPluginById:function(t){return function(e){return t.plugins.find(function(t){return t.id==e})}},getPluginsByIds:function(t){return function(e){var n=[];return e.forEach(function(e){var i=t.plugins.find(function(t){return t.id===e});n.push(i)}),n}},getPluginsByCategory:function(t){return function(e){return t.plugins.filter(function(t){return t.categoryIds.find(function(t){return t==e})})}},getPluginsByDeveloperId:function(t){return function(e){return t.plugins.filter(function(t){return t.developerId==e})}},getPluginByHandle:function(t){return function(e){return t.plugins.find(function(t){return t.handle===e})}}},we={getDeveloper:function(t,e){var n=t.commit;return new Promise(function(t,i){Ie.getDeveloper(e,function(e){n("updateDeveloper",{developer:e}),t(e)},function(t){i(t)})})},getPluginStoreData:function(t){var e=t.commit;return new Promise(function(t,n){Ie.getPluginStoreData(function(n){e("updatePluginStoreData",{response:n}),t(n)},function(t){n(t)})})},getPluginDetails:function(t,e){var n=t.commit;return new Promise(function(t,i){Ie.getPluginDetails(e,function(e){n("updatePluginDetails",e.data),t(e)},function(t){i(t)})})}},ke={updateDeveloper:function(t,e){var n=e.developer;t.developer=n},updatePluginStoreData:function(t,e){var n=e.response;t.categories=n.data.categories,t.featuredPlugins=n.data.featuredPlugins,t.plugins=n.data.plugins},updatePluginDetails:function(t,e){t.plugin=e}},Ne={namespaced:!0,state:Se,getters:Me,actions:we,mutations:ke},$e={getCraftData:function(t,e){ge.a.get(Craft.getActionUrl("plugin-store/craft-data")).then(function(e){return t(e)}).catch(function(t){return e(t)})},tryEdition:function(t){return ge.a.post(Craft.getActionUrl("app/try-edition"),"edition="+t,{headers:{"X-CSRF-Token":Craft.csrfTokenValue}})}},Pe={CraftEdition:null,CraftPro:null,CraftSolo:null,canTestEditions:null,countries:null,craftId:null,craftLogo:null,currentUser:null,editions:null,installedPlugins:[],licensedEdition:null,poweredByStripe:null,defaultPluginSvg:null},Te={installedPlugins:function(t,e,n){return n.pluginStore.plugins.filter(function(e){return!!t.installedPlugins&&t.installedPlugins.find(function(t){return t.packageName===e.packageName&&t.handle===e.handle})})},pluginHasLicenseKey:function(t){return function(e){return!!t.installedPlugins.find(function(t){return t.handle===e&&t.hasLicenseKey})}}},De={getCraftData:function(t){var e=t.commit;return new Promise(function(t,n){$e.getCraftData(function(n){e("updateCraftData",{response:n}),t(n)},function(t){n(t)})})},updateCraftId:function(t,e){var n=t.commit;n("updateCraftId",e)},tryEdition:function(t,e){t.commit;return new Promise(function(t,n){$e.tryEdition(e).then(function(e){t(e)}).catch(function(t){n(t)})})}},xe={updateCraftData:function(t,e){var n=e.response;t.CraftEdition=n.data.CraftEdition,t.CraftPro=n.data.CraftPro,t.CraftSolo=n.data.CraftSolo,t.canTestEditions=n.data.canTestEditions,t.countries=n.data.countries,t.craftId=n.data.craftId,t.craftLogo=n.data.craftLogo,t.currentUser=n.data.currentUser,t.editions=n.data.editions,t.installedPlugins=n.data.installedPlugins,t.licensedEdition=n.data.licensedEdition,t.poweredByStripe=n.data.poweredByStripe,t.defaultPluginSvg=n.data.defaultPluginSvg},updateCraftId:function(t,e){var n=e.craftId;t.craftId=n}},je={namespaced:!0,state:Pe,getters:Te,actions:De,mutations:xe};s.a.use(v.a);var Oe=new v.a.Store({strict:!0,modules:{cart:ye,pluginStore:Ne,craft:je}}),Le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hidden"},[n("div",{ref:"pluginstoremodal",staticClass:"pluginstore-modal modal",class:"step-"+t.modalStep,attrs:{id:"pluginstore-modal"}},["plugin-details"===t.modalStep?n("plugin-details",{attrs:{pluginId:t.pluginId}}):t._e(),"plugin-edition"===t.modalStep?n("plugin-edition",{attrs:{pluginId:t.pluginId},on:{back:function(e){t.back()}}}):"cart"===t.modalStep?n("cart",{on:{"continue-shopping":function(e){t.$root.closeModal()}}}):"identity"===t.modalStep?n("identity",{on:{back:function(e){t.back()}}}):"payment"===t.modalStep?n("payment",{on:{back:function(e){t.back()}}}):"thank-you"===t.modalStep?n("thank-you"):t._e()],1)])},Ee=[],Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("step",[n("template",{slot:"header"},[n("div",{staticClass:"btn-left"},[n("a",{on:{click:function(e){t.$emit("back")}}},[t._v("← Back")])]),n("h1",[t._v("Choose an edition")])]),n("template",{slot:"main"},[t.pluginSnippet?n("table",{staticClass:"data fullwidth choose-edition"},[n("thead",[n("tr",[n("th",[n("div",{staticClass:"plugin-icon-md"},[t.pluginSnippet.iconUrl?n("img",{attrs:{src:t.pluginSnippet.iconUrl,height:"48"}}):n("img",{attrs:{src:t.defaultPluginSvg,height:"48"}})])]),t._l(t.editions,function(e){return n("td",[n("div",[n("div",{staticClass:"edition-badge"},[t._v(t._s(e.name))])]),n("div",[e.price>0?[t._v(t._s(t._f("currency")(e.price)))]:[t._v("Free")]],2),e.price>0?n("div",[t._v(t._s(t._f("currency")(e.renewalPrice))+"/year for updates")]):t._e(),e.price>0?n("div",{staticClass:"buttons"},[n("a",{staticClass:"btn submit",on:{click:function(n){t.addToCart(t.pluginSnippet,e.handle)}}},[t._v("Add to cart")])]):t._e()])})],2)]),n("tbody",[n("tr",[n("th",{staticClass:"group",attrs:{colspan:"4"}},[t._v(t._s(t._f("t")("Features","app")))])]),n("tr",[n("th",{staticClass:"feature",attrs:{scope:"row"}},[t._v(t._s(t._f("t")("Content Modeling","app"))+" "),n("span",{staticClass:"info"},[t._v(t._s(t._f("t")("Includes Sections, Global sets, Category groups, Tag groups, Asset volumes, Custom fields, Entry versioning, and Entry drafts","app")))])]),n("td",[n("span",{attrs:{"data-icon":"check"}})]),n("td",[n("span",{attrs:{"data-icon":"check"}})]),n("td",[n("span",{attrs:{"data-icon":"check"}})])]),n("tr",[n("th",{staticClass:"feature",attrs:{scope:"row"}},[t._v(t._s(t._f("t")("Multi-site Multi-lingual","app"))+" "),n("span",{staticClass:"info"},[t._v(t._s(t._f("t")("Includes Multiple locales, Section and entry locale targeting, Content translations","app")))])]),n("td",[n("span",{attrs:{"data-icon":"check"}})]),n("td",[n("span",{attrs:{"data-icon":"check"}})]),n("td",[n("span",{attrs:{"data-icon":"check"}})])]),n("tr",[n("th",{staticClass:"feature",attrs:{scope:"row"}},[t._v(t._s(t._f("t")("Cloud Storage Integration","app")))]),n("td",[n("span",{attrs:{"data-icon":"check"}})]),n("td",[n("span",{attrs:{"data-icon":"check"}})]),n("td",[n("span",{attrs:{"data-icon":"check"}})])]),n("tr",[n("th",{staticClass:"feature",attrs:{scope:"row"}},[t._v(t._s(t._f("t")("User Accounts","app"))+" "),n("span",{staticClass:"info"},[t._v(t._s(t._f("t")("Includes User accounts, User groups, User permissions, Public user registration","app")))])]),n("td"),n("td",[n("span",{attrs:{"data-icon":"check"}})]),n("td",[n("span",{attrs:{"data-icon":"check"}})])]),n("tr",[n("th",{staticClass:"feature",attrs:{scope:"row"}},[t._v(t._s(t._f("t")("System Branding","app"))+" "),n("span",{staticClass:"info"},[t._v(t._s(t._f("t")("Includes Custom login screen logo, Custom site icon, Custom HTML email template, Custom email message wording","app")))])]),n("td"),n("td",[n("span",{attrs:{"data-icon":"check"}})]),n("td",[n("span",{attrs:{"data-icon":"check"}})])]),n("tr",[n("th",{staticClass:"group",attrs:{colspan:"4"}},[t._v(t._s(t._f("t")("Support","app")))])]),n("tr",[n("th",{staticClass:"feature",attrs:{scope:"row"}},[t._v(t._s(t._f("t")("Security & Bug Fixes","app")))]),n("td"),n("td",[n("span",{attrs:{"data-icon":"check"}})]),n("td",[n("span",{attrs:{"data-icon":"check"}})])]),n("tr",[n("th",{staticClass:"feature",attrs:{scope:"row"}},[t._v(t._s(t._f("t")("Community Support (Slack, Stack Exchange)","app")))]),n("td"),n("td"),n("td",[n("span",{attrs:{"data-icon":"check"}})])]),n("tr",[n("th",{staticClass:"feature",attrs:{scope:"row"}},[t._v(t._s(t._f("t")("Developer Support","app")))]),n("td"),n("td"),n("td",[n("span",{attrs:{"data-icon":"check"}})])])])]):t._e(),t.loading?n("div",{staticClass:"spinner"}):t._e()])],2)},ze=[],Ue={props:["pluginId"],data:function(){return{loading:!1,pluginSnippet:null}},components:{Step:n("3636")},computed:{editions:function(){return[{name:"Standard",handle:"standard",price:"19.0000",renewalPrice:"4.0000"},{name:"Lite",handle:"lite",price:"99.0000",renewalPrice:"19.0000"},{name:"Pro",handle:"pro",price:"199.0000",renewalPrice:"39.0000"}]}},methods:{loadPlugin:function(t){this.pluginSnippet=this.$store.getters["pluginStore/getPluginById"](t)},addToCart:function(t,e){var n=this;this.loading=!0;var i={type:"plugin-edition",plugin:t.handle,edition:e,autoRenew:!1,cmsLicenseKey:window.cmsLicenseKey};this.$store.dispatch("cart/addToCart",[i]).then(function(){n.loading=!1,n.$root.openModal("cart")})}},mounted:function(){this.loadPlugin(this.pluginId)}},Be=Ue,Qe=Object(M["a"])(Be,Ae,ze,!1,null,null,null);Qe.options.__file="PluginEdition.vue";var Ge=Qe.exports,Re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("step",[n("template",{slot:"header"},[n("div",{staticClass:"btn-left"},[n("a",{on:{click:function(e){t.$emit("back")}}},[t._v("← Back")])]),n("h1",[t._v("Payment")])]),n("template",{slot:"main"},[n("form",{staticClass:"payment",on:{submit:function(e){e.preventDefault(),t.checkout()}}},[n("div",{staticClass:"blocks"},[n("div",{staticClass:"block"},[t.staticCartTotal>0?n("div",[n("h2",[t._v(t._s(t._f("t")("Payment Method","app")))]),t.craftId?[t.craftId&&t.craftId.card?n("p",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentMode,expression:"paymentMode"}],attrs:{type:"radio",value:"existingCard"},domProps:{checked:t._q(t.paymentMode,"existingCard")},on:{change:function(e){t.paymentMode="existingCard"}}}),t._v(" Use card "),n("span",[t._v(t._s(t.craftId.card.brand)+" •••• •••• •••• "+t._s(t.craftId.card.last4)+" — "+t._s(t.craftId.card.exp_month)+"/"+t._s(t.craftId.card.exp_year))])])]):t._e(),n("p",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentMode,expression:"paymentMode"}],attrs:{type:"radio",value:"newCard"},domProps:{checked:t._q(t.paymentMode,"newCard")},on:{change:function(e){t.paymentMode="newCard"}}}),t._v(" Use a new credit card")])]),"newCard"===t.paymentMode?[t.cardToken?n("p",[t._v(t._s(t.cardToken.card.brand)+" •••• •••• •••• "+t._s(t.cardToken.card.last4)+" ("+t._s(t.cardToken.card.exp_month)+"/"+t._s(t.cardToken.card.exp_year)+") "),n("a",{staticClass:"delete icon",on:{click:function(e){t.cardToken=null}}})]):n("credit-card",{ref:"newCard"}),n("checkbox-field",{attrs:{id:"replaceCard",label:"Save as my new credit card"},model:{value:t.replaceCard,callback:function(e){t.replaceCard=e},expression:"replaceCard"}})]:t._e()]:[n("credit-card",{ref:"guestCard"})]],2):t._e(),n("h2",[t._v(t._s(t._f("t")("Coupon Code","app")))]),n("text-field",{attrs:{placeholder:"XXXXXXX",id:"coupon-code",size:"12",errors:t.couponCodeError},on:{input:t.couponCodeChange},model:{value:t.couponCode,callback:function(e){t.couponCode=e},expression:"couponCode"}}),t.couponCodeLoading?n("div",{staticClass:"spinner"}):t._e()],1),n("div",{staticClass:"block"},[n("h2",[t._v(t._s(t._f("t")("Billing","app")))]),n("div",{staticClass:"field"},[n("div",{staticClass:"input"},[n("div",{staticClass:"multitext"},[n("div",{staticClass:"multitextrow"},[n("text-input",{attrs:{placeholder:"First Name",id:"first-name",errors:t.errors["billingAddress.firstName"]},model:{value:t.billingInfo.firstName,callback:function(e){t.$set(t.billingInfo,"firstName",e)},expression:"billingInfo.firstName"}})],1),n("div",{staticClass:"multitextrow"},[n("text-input",{attrs:{placeholder:"Last Name",id:"last-name",errors:t.errors["billingAddress.lastName"]},model:{value:t.billingInfo.lastName,callback:function(e){t.$set(t.billingInfo,"lastName",e)},expression:"billingInfo.lastName"}})],1)])])]),n("div",{staticClass:"field"},[n("div",{staticClass:"input"},[n("div",{staticClass:"multitext"},[n("div",{staticClass:"multitextrow"},[n("text-input",{attrs:{placeholder:"Business Name",id:"business-name",errors:t.errors["billingAddress.businessName"]},model:{value:t.billingInfo.businessName,callback:function(e){t.$set(t.billingInfo,"businessName",e)},expression:"billingInfo.businessName"}})],1),n("div",{staticClass:"multitextrow"},[n("text-input",{attrs:{placeholder:"Business Tax ID",id:"business-tax-id",errors:t.errors["billingAddress.businessTaxId"]},model:{value:t.billingInfo.businessTaxId,callback:function(e){t.$set(t.billingInfo,"businessTaxId",e)},expression:"billingInfo.businessTaxId"}})],1)])])]),n("div",{staticClass:"field"},[n("div",{staticClass:"input"},[n("div",{staticClass:"multitext"},[n("div",{staticClass:"multitextrow"},[n("text-input",{attrs:{placeholder:"Address Line 1",id:"address-1",errors:t.errors["billingAddress.address1"]},model:{value:t.billingInfo.address1,callback:function(e){t.$set(t.billingInfo,"address1",e)},expression:"billingInfo.address1"}})],1),n("div",{staticClass:"multitextrow"},[n("text-input",{attrs:{placeholder:"Address Line 2",id:"address-2",errors:t.errors["billingAddress.address2"]},model:{value:t.billingInfo.address2,callback:function(e){t.$set(t.billingInfo,"address2",e)},expression:"billingInfo.address2"}})],1),n("div",{staticClass:"multitextrow"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.billingInfo.city,expression:"billingInfo.city"}],staticClass:"text",class:{error:t.errors["billingAddress.city"]},attrs:{type:"text",placeholder:"City",id:"city"},domProps:{value:t.billingInfo.city},on:{input:function(e){e.target.composing||t.$set(t.billingInfo,"city",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.billingInfo.zipCode,expression:"billingInfo.zipCode"}],staticClass:"text",class:{error:t.errors["billingAddress.zipCode"]},attrs:{type:"text",placeholder:"Zip Code",id:"zip-code"},domProps:{value:t.billingInfo.zipCode},on:{input:function(e){e.target.composing||t.$set(t.billingInfo,"zipCode",e.target.value)}}})]),n("div",{staticClass:"multiselectrow"},[n("select-input",{attrs:{options:t.countryOptions,errors:t.errors["billingAddress.country"]},on:{input:t.onCountryChange},model:{value:t.billingInfo.country,callback:function(e){t.$set(t.billingInfo,"country",e)},expression:"billingInfo.country"}}),n("select-input",{attrs:{options:t.stateOptions,errors:t.errors["billingAddress.state"]},model:{value:t.billingInfo.state,callback:function(e){t.$set(t.billingInfo,"state",e)},expression:"billingInfo.state"}})],1)])])])])]),n("hr"),n("div",{staticClass:"centeralign"},[t.error?n("p",{staticClass:"error"},[t._v(t._s(t.error))]):t._e(),n("input",{staticClass:"btn submit",attrs:{type:"submit"},domProps:{value:t.$options.filters.t("Pay","app")+" "+t.$options.filters.currency(t.staticCartTotal)}}),t.loading?n("div",{staticClass:"spinner"}):t._e(),n("p",[n("img",{attrs:{src:t.poweredByStripe,height:"18"}})])])])])],2)},Ze=[],Ye=n("3636"),Fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field card"},[n("div",{staticClass:"multitext"},[n("div",{staticClass:"multitextrow"},[n("cleave",{staticClass:"text fullwidth",class:{error:t.errors.number},attrs:{type:"tel",id:"cc-number",autocomplete:"off",placeholder:"Card number",options:{creditCard:!0}},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),n("div",{staticClass:"multitextrow"},[n("cleave",{staticClass:"text fullwidth",class:{error:t.errors.exp},attrs:{type:"tel",id:"cc-exp",autocomplete:"off",placeholder:"MM / YY",options:{date:!0,datePattern:["m","y"]}},model:{value:t.exp,callback:function(e){t.exp=e},expression:"exp"}}),n("cleave",{staticClass:"text fullwidth",class:{error:t.errors.cvc},attrs:{id:"cc-cvc",autocomplete:"off",placeholder:"CVC",options:{numericOnly:!0,blocks:[4]}},model:{value:t.cvc,callback:function(e){t.cvc=e},expression:"cvc"}})],1)])])},He=[],Ke=(n("28a5"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input ltr",class:{errors:t.errors,success:t.success}},[n("input",{staticClass:"text",class:{fullwidth:!t.size},attrs:{type:"text",autocomplete:"off",id:t.id,placeholder:t.placeholder,size:t.size},domProps:{value:t.value},on:{input:function(e){t.$emit("input",e.target.value)}}})])}),Ve=[],Je={props:["id","placeholder","value","size","errors","success"]},We=Je,Xe=Object(M["a"])(We,Ke,Ve,!1,null,null,null);Xe.options.__file="TextInput.vue";var qe=Xe.exports,tn=n("9a8f"),en={components:{TextInput:qe,Cleave:tn["a"]},data:function(){return{number:"",exp:"",cvc:"",errors:{number:!1,exp:!1,cvc:!1}}},computed:Object(i["a"])({},Object(m["mapState"])({stripePublicKey:function(t){return t.cart.stripePublicKey}}),{expMonth:function(){var t=this.exp.split("/");return t[0]},expYear:function(){var t=this.exp.split("/");return t[1]}}),methods:{save:function(t,e){this.validates()?(Stripe.setPublishableKey(this.stripePublicKey),Stripe.source.create({type:"card",card:{number:this.number,exp_month:this.expMonth,exp_year:this.expYear,cvc:this.cvc}},function(n,i){i.error?e(i):t(i)})):e()},validates:function(){var t=!1;return this.errors.number=!1,this.errors.exp=!1,this.errors.cvc=!1,this.number||(this.errors.number=!0,t=!0),this.exp||(this.errors.exp=!0,t=!0),this.cvc||(this.errors.cvc=!0,t=!0),!t}}},nn=en,an=Object(M["a"])(nn,Fe,He,!1,null,null,null);an.options.__file="CreditCard.vue";var sn=an.exports,rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field"},[n("input",{staticClass:"checkbox",attrs:{id:t.id,type:"checkbox",value:"1"},domProps:{checked:t.checked},on:{change:t.change}}),n("label",{attrs:{id:t.id+"-label",for:t.id}},[t._v(t._s(t.label))])])},on=[],ln={props:["label","id","value"],data:function(){return{checked:this.value}},methods:{change:function(t){this.checked=!this.checked,this.$emit("input",this.checked)}}},cn=ln,un=Object(M["a"])(cn,rn,on,!1,null,null,null);un.options.__file="CheckboxField.vue";var dn=un.exports,pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field first"},[t.label?n("div",{staticClass:"heading"},[n("label",{attrs:{id:t.id+"-label",for:t.id}},[t._v(t._s(t.label))])]):t._e(),n("div",{staticClass:"input ltr"},[n("textarea-input",{attrs:{id:t.id,placeholder:t.placeholder,value:t.value,cols:t.cols},on:{input:function(e){t.$emit("input",e)}}})],1)])},fn=[],gn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("textarea",{staticClass:"text fullwidth",attrs:{type:"text",id:t.id,placeholder:t.placeholder,autocomplete:"off",cols:t.cols},domProps:{value:t.value},on:{input:function(e){t.$emit("input",e.target.value)}}})},hn=[],mn={props:["id","placeholder","value","cols"]},vn=mn,Cn=Object(M["a"])(vn,gn,hn,!1,null,null,null);Cn.options.__file="TextareaInput.vue";var _n=Cn.exports,bn={props:["label","id","placeholder","value","cols"],components:{TextareaInput:_n}},yn=bn,In=Object(M["a"])(yn,pn,fn,!1,null,null,null);In.options.__file="TextareaField.vue";var Sn=In.exports,Mn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field first"},[t.label?n("div",{staticClass:"heading"},[n("label",{attrs:{id:t.id+"-label",for:t.id}},[t._v(t._s(t.label))])]):t._e(),n("text-input",{attrs:{id:t.id,placeholder:t.placeholder,value:t.value,size:t.size,errors:t.errors,success:t.success},on:{input:function(e){t.$emit("input",e)}}})],1)},wn=[],kn={props:["label","id","placeholder","value","size","errors","success"],components:{TextInput:qe}},Nn=kn,$n=Object(M["a"])(Nn,Mn,wn,!1,null,null,null);$n.options.__file="TextField.vue";var Pn=$n.exports,Tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input",class:{errors:t.errors}},[n("div",{staticClass:"select"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedOption,expression:"selectedOption"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedOption=e.target.multiple?n:n[0]},t.onChange]}},t._l(this.options,function(e,i){return n("option",{key:i,domProps:{value:e.value}},[t._v(t._s(e.label))])}))])])},Dn=[],xn={data:function(){return{selectedOption:null}},props:["options","value","errors"],methods:{onChange:function(t){this.$emit("input",t.target.value)}},mounted:function(){this.selectedOption=this.value},watch:{value:function(t){this.selectedOption=t}}},jn=xn,On=Object(M["a"])(jn,Tn,Dn,!1,null,null,null);On.options.__file="SelectInput.vue";var Ln=On.exports,En={components:{Step:Ye["default"],CreditCard:sn,CheckboxField:dn,TextareaField:Sn,TextField:Pn,SelectInput:Ln,TextInput:qe},data:function(){return{error:!1,loading:!1,paymentMode:"newCard",cardToken:null,guestCardToken:null,replaceCard:!1,couponCode:"",couponCodeLoading:!1,couponCodeSuccess:!1,couponCodeError:!1,couponCodeTimeout:!1,billingInfo:{firstName:"",lastName:"",businessName:"",businessTaxId:"",address1:"",address2:"",country:"",state:"",city:"",zipCode:""},billingInfoErrors:{businessTaxId:!1},errors:{},stateOptions:[],staticCartTotal:0}},computed:Object(i["a"])({},Object(m["mapState"])({cart:function(t){return t.cart.cart},poweredByStripe:function(t){return t.craft.poweredByStripe},craftId:function(t){return t.craft.craftId},countries:function(t){return t.craft.countries},states:function(t){return t.craft.states}}),{countryOptions:function(){var t=[];for(var e in this.countries)this.countries.hasOwnProperty(e)&&t.push({label:this.countries[e].name,value:e});return t},billingCountryName:function(){var t=this.billingInfo.country;if(t&&this.countries[t])return this.countries[t].name}}),methods:{savePaymentMethod:function(t,e){var n=this;this.cart.totalPrice>0?this.craftId?"newCard"===this.paymentMode?this.cardToken?t():this.$refs.newCard.save(function(e){n.cardToken=e,t()},function(){e()}):t():this.$refs.guestCard.save(function(e){n.guestCardToken=e,t()},function(){e()}):t()},saveBillingInfo:function(t,e){var n={billingAddress:{firstName:this.billingInfo.firstName,lastName:this.billingInfo.lastName,businessName:this.billingInfo.businessName,businessTaxId:this.billingInfo.businessTaxId,address1:this.billingInfo.address1,address2:this.billingInfo.address2,country:this.billingInfo.country,state:this.billingInfo.state,city:this.billingInfo.city,zipCode:this.billingInfo.zipCode}};this.$store.dispatch("cart/saveCart",n).then(function(e){t(e)}).catch(function(t){e(t)})},checkout:function(){var t=this;this.errors={},this.loading=!0,this.savePaymentMethod(function(){t.saveBillingInfo(function(){var e=null;if(t.cart.totalPrice>0)if(t.craftId)switch(t.paymentMode){case"newCard":e=t.cardToken.id;break;default:e=t.craftId.cardToken}else e=t.guestCardToken.id;var n={orderNumber:t.cart.number,token:e,expectedPrice:t.cart.totalPrice,makePrimary:t.replaceCard};t.$store.dispatch("cart/checkout",n).then(function(e){t.$store.dispatch("cart/savePluginLicenseKeys",t.cart).then(function(e){t.$store.dispatch("craft/getCraftData").then(function(){t.$store.dispatch("cart/resetCart").then(function(){t.loading=!1,t.error=!1,t.$root.modalStep="thank-you"})})})}).catch(function(e){t.loading=!1,t.error=e.response.data.error||e.response.statusText})},function(e){e.errors&&e.errors.forEach(function(e){t.errors[e.param]=e.message}),t.loading=!1,t.$root.displayError("Couldn’t save billing information.")})},function(){t.loading=!1,t.$root.displayError("Couldn’t save payment method.")})},onCountryChange:function(t){if(this.countries[t]){var e=this.countries[t];if(e.states){var n=e.states,i=[];for(var a in n)n.hasOwnProperty(a)&&i.push({label:n[a],value:a});this.stateOptions=i}else this.stateOptions=[]}else this.stateOptions=[]},couponCodeChange:function(t){clearTimeout(this.couponCodeTimeout),this.couponCodeSuccess=!1,this.couponCodeError=!1,this.couponCodeTimeout=setTimeout(function(){var e=this;this.couponCodeLoading=!0;var n={couponCode:t||null};this.$store.dispatch("cart/saveCart",n).then(function(t){e.couponCodeSuccess=!0,e.couponCodeError=!1,e.staticCartTotal=e.cart.totalPrice,e.couponCodeLoading=!1}).catch(function(t){e.couponCodeError=!0,e.staticCartTotal=e.cart.totalPrice,e.couponCodeLoading=!1})}.bind(this),500)}},mounted:function(){var t=this;this.staticCartTotal=this.cart.totalPrice,this.couponCode=this.cart.couponCode,this.craftId&&this.craftId.billingAddress&&(this.craftId.card&&(this.paymentMode="existingCard"),this.craftId.billingAddress.country&&this.onCountryChange(this.craftId.billingAddress.country),this.$nextTick(function(){t.billingInfo=JSON.parse(JSON.stringify(t.craftId.billingAddress))}))}},An=En,zn=Object(M["a"])(An,Re,Ze,!1,null,null,null);zn.options.__file="Payment.vue";var Un=zn.exports,Bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("step",[n("template",{slot:"body"},[t.pluginSnippet?n("div",{staticClass:"plugin-details"},[n("div",{staticClass:"plugin-details-header"},[n("div",{staticClass:"plugin-icon-large"},[t.pluginSnippet.iconUrl?n("img",{attrs:{src:t.pluginSnippet.iconUrl,height:"60"}}):n("img",{attrs:{src:t.defaultPluginSvg,height:"60"}})]),n("div",{staticClass:"description"},[n("h2",[t._v(t._s(t.pluginSnippet.name))]),n("p",[t._v(t._s(t.pluginSnippet.shortDescription))]),n("p",[n("a",{on:{click:function(e){t.viewDeveloper(t.pluginSnippet)}}},[t._v(t._s(t.pluginSnippet.developerName))])])]),t.cart?n("div",{staticClass:"buttons"},[null!=t.pluginSnippet.editions[0].price&&"0.00"!==t.pluginSnippet.editions[0].price?[t.isInstalled(t.pluginSnippet)?[t.pluginHasLicenseKey(t.pluginSnippet.handle)?[n("div",{staticClass:"license-status installed",attrs:{"data-icon":"check"}},[t._v(t._s(t._f("t")("Installed","app")))])]:[n("div",{staticClass:"license-status installed",attrs:{"data-icon":"check"}},[t._v(t._s(t._f("t")("Installed as a trial","app")))]),t.isInCart(t.pluginSnippet)?n("a",{staticClass:"btn submit disabled"},[t._v(t._s(t._f("t")("Added to cart","app")))]):n("a",{staticClass:"btn submit",attrs:{title:t.buyBtnTitle},on:{click:function(e){t.chooseEdition(t.pluginSnippet)}}},[t._v(t._s(t._f("currency")(t.pluginSnippet.editions[0].price)))])]]:[t.allowUpdates?[n("form",{attrs:{method:"post"}},[n("input",{attrs:{type:"hidden",name:t.csrfTokenName},domProps:{value:t.csrfTokenValue}}),n("input",{attrs:{type:"hidden",name:"action",value:"pluginstore/install"}}),n("input",{attrs:{type:"hidden",name:"packageName"},domProps:{value:t.pluginSnippet.packageName}}),n("input",{attrs:{type:"hidden",name:"handle"},domProps:{value:t.pluginSnippet.handle}}),n("input",{attrs:{type:"hidden",name:"version"},domProps:{value:t.pluginSnippet.version}}),n("input",{staticClass:"btn",attrs:{type:"submit"},domProps:{value:t._f("t")("Try","app")}})]),t.isInCart(t.pluginSnippet)?n("a",{staticClass:"btn submit disabled"},[t._v(t._s(t._f("t")("Added to cart","app")))]):n("a",{staticClass:"btn submit",attrs:{title:t.buyBtnTitle},on:{click:function(e){t.chooseEdition(t.pluginSnippet)}}},[t._v(t._s(t._f("currency")(t.pluginSnippet.editions[0].price)))])]:t._e()]]:n("div",[t.isInstalled(t.pluginSnippet)?n("a",{staticClass:"btn submit disabled"},[t._v(t._s(t._f("t")("Installed","app")))]):t.allowUpdates?n("div",[n("form",{attrs:{method:"post"}},[n("input",{attrs:{type:"hidden",name:t.csrfTokenName},domProps:{value:t.csrfTokenValue}}),n("input",{attrs:{type:"hidden",name:"action",value:"pluginstore/install"}}),n("input",{attrs:{type:"hidden",name:"packageName"},domProps:{value:t.pluginSnippet.packageName}}),n("input",{attrs:{type:"hidden",name:"handle"},domProps:{value:t.pluginSnippet.handle}}),n("input",{attrs:{type:"hidden",name:"version"},domProps:{value:t.pluginSnippet.version}}),n("input",{staticClass:"btn submit",attrs:{type:"submit"},domProps:{value:t._f("t")("Install","app")}})])]):t._e()])],2):t._e(),n("div",[t.actionsLoading?n("div",{staticClass:"spinner"}):t._e()])]),n("div",{staticClass:"plugin-details-body"},[t.loading?[n("div",{staticClass:"plugin-details-loading spinner"})]:[n("div",{staticClass:"plugin-description"},[n("div",{staticClass:"readable",domProps:{innerHTML:t._s(t.longDescription)}}),n("div",{staticClass:"screenshots"},t._l(t.plugin.screenshotUrls,function(t){return n("img",{attrs:{src:t}})}))]),n("div",{staticClass:"plugin-sidebar"},[n("div",{staticClass:"plugin-meta"},[n("ul",{staticClass:"plugin-meta-data"},[n("li",[n("span",[t._v(t._s(t._f("t")("Version","app")))]),n("strong",[t._v(t._s(t.plugin.version))])]),n("li",[n("span",[t._v(t._s(t._f("t")("Last update","app")))]),n("strong",[t._v(t._s(t.lastUpdate))])]),t.plugin.activeInstalls>0?n("li",[n("span",[t._v(t._s(t._f("t")("Active installs","app")))]),n("strong",[t._v(t._s(t._f("formatNumber")(t.plugin.activeInstalls)))])]):t._e(),n("li",[n("span",[t._v(t._s(t._f("t")("Compatibility","app")))]),n("strong",[t._v(t._s(t.plugin.compatibility))])]),t.pluginCategories.length>0?n("li",[n("span",[t._v(t._s(t._f("t")("Categories","app")))]),n("strong",[t._l(t.pluginCategories,function(e,i){return[n("a",{on:{click:function(n){t.viewCategory(e)}}},[t._v(t._s(e.title))]),i<t.pluginCategories.length-1?[t._v(", ")]:t._e()]})],2)]):t._e(),n("li",[n("span",[t._v(t._s(t._f("t")("License","app")))]),n("strong",[t._v(t._s(t.licenseLabel))])]),t.pluginSnippet.editions[0].renewalPrice?n("li",[n("span",[t._v(t._s(t._f("t")("Renewal price","app")))]),n("strong",[t._v(t._s(t._f("t")("{price}/year","app",{price:t.$root.$options.filters.currency(t.pluginSnippet.editions[0].renewalPrice)})))])]):t._e()]),t.plugin.documentationUrl||t.plugin.changelogUrl?n("ul",{staticClass:"plugin-meta-links"},[t.plugin.documentationUrl?n("li",[n("a",{staticClass:"btn fullwidth",attrs:{href:t.plugin.documentationUrl,rel:"noopener",target:"_blank"}},[t._v(t._s(t._f("t")("Documentation","app")))])]):t._e(),t.plugin.changelogUrl?n("li",[n("a",{staticClass:"btn fullwidth",attrs:{href:t.plugin.changelogUrl,rel:"noopener",target:"_blank"}},[t._v(t._s(t._f("t")("Changelog","app")))])]):t._e()]):t._e()])])]],2)]):t._e()])],2)},Qn=[],Gn={props:["pluginId"],components:{Step:Ye["default"]},data:function(){return{actionsLoading:!1,loading:!1,pluginSnippet:null}},computed:Object(i["a"])({},Object(m["mapState"])({categories:function(t){return t.pluginStore.categories},plugin:function(t){return t.pluginStore.plugin},plugins:function(t){return t.pluginStore.plugins},cart:function(t){return t.cart.cart},defaultPluginSvg:function(t){return t.craft.defaultPluginSvg}}),Object(m["mapGetters"])({activeTrialPlugins:"activeTrialPlugins",isInCart:"cart/isInCart",isInstalled:"pluginStore/isInstalled",pluginHasLicenseKey:"craft/pluginHasLicenseKey"}),{longDescription:function(){if(this.plugin.longDescription&&this.plugin.longDescription.length>0)return this.plugin.longDescription},buyBtnTitle:function(){return this.$root.$options.filters.t("Buy now for {price}","app",{price:this.$root.$options.filters.currency(this.pluginSnippet.editions[0].price)})},developerUrl:function(){return Craft.getCpUrl("plugin-store/developer/"+this.plugin.developerId)},pluginCategories:function(){var t=this;return this.categories.filter(function(e){return t.plugin.categoryIds.find(function(t){return t==e.id})})},licenseLabel:function(){switch(this.plugin.license){case"craft":return"Craft";case"mit":return"MIT"}},lastUpdate:function(){var t=new Date(this.plugin.lastUpdate.replace(/\s/,"T"));return Craft.formatDate(t)},csrfTokenName:function(){return Craft.csrfTokenName},csrfTokenValue:function(){return Craft.csrfTokenValue},allowUpdates:function(){return window.allowUpdates}}),watch:{pluginId:function(t){return this.loadPlugin(t),t}},methods:Object(i["a"])({},Object(m["mapActions"])({addToCart:"cart/addToCart"}),{chooseEdition:function(){this.$root.modalStep="plugin-edition"},buyPlugin:function(t){var e=this;this.actionsLoading=!0;var n={type:"plugin-edition",plugin:t.handle,edition:t.editions[0].handle,autoRenew:!1,cmsLicenseKey:window.cmsLicenseKey};this.$store.dispatch("cart/addToCart",[n]).then(function(){e.actionsLoading=!1,e.$root.openModal("cart")})},viewDeveloper:function(t){this.$root.closeModal(),this.$root.pageTitle=this.$options.filters.escapeHtml(t.developerName),this.$router.push({path:"/developer/"+t.developerId})},viewCategory:function(t){this.$root.closeModal(),this.$root.pageTitle=t.name,this.$router.push({path:"/categories/"+t.id})},loadPlugin:function(t){var e=this;this.pluginSnippet=this.$store.getters["pluginStore/getPluginById"](t),(!this.plugin||this.plugin&&this.plugin.id!==t)&&(this.loading=!0,this.$store.commit("pluginStore/updatePluginDetails",null),this.$store.dispatch("pluginStore/getPluginDetails",t).then(function(t){e.loading=!1}).catch(function(t){e.loading=!1}))}}),mounted:function(){this.loadPlugin(this.pluginId)}},Rn=Gn,Zn=Object(M["a"])(Rn,Bn,Qn,!1,null,null,null);Zn.options.__file="PluginDetails.vue";var Yn=Zn.exports,Fn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("step",[n("template",{slot:"header"},[n("h1",[t._v("Cart")])]),n("template",{slot:"main"},[n("h2",[t._v(t._s(t._f("t")("Items in your cart","app")))]),t.cart?[t.cartItems.length?[n("table",{staticClass:"data fullwidth"},[n("thead",[n("tr",[n("th"),n("th",[t._v("Item")]),n("th",[t._v("Updates")]),n("th"),n("th")])]),n("tbody",[t._l(t.cartItems,function(e,i){return n("tr",["cms-edition"===e.lineItem.purchasable.type?[n("td",{staticClass:"thin"},[n("div",{staticClass:"plugin-icon"},[n("img",{attrs:{src:t.craftLogo,width:"32",height:"32"}})])]),n("td",[t._v("Craft "+t._s(e.lineItem.purchasable.name))])]:[n("td",{staticClass:"thin"},[n("div",{staticClass:"plugin-icon"},[e.plugin.iconUrl?n("img",{attrs:{src:e.plugin.iconUrl,height:"32"}}):t._e()])]),n("td",[t._v("\n                                "+t._s(e.plugin.name)+"\n                            ")])],n("td",[n("select-input",{attrs:{options:t.itemUpdateOptions[i]},model:{value:t.itemUpdates[i],callback:function(e){t.$set(t.itemUpdates,i,e)},expression:"itemUpdates[itemKey]"}})],1),n("td",{staticClass:"rightalign"},[n("strong",[t._v(t._s(t._f("currency")(e.lineItem.total)))])]),n("td",{staticClass:"thin"},[n("a",{staticClass:"delete icon",attrs:{role:"button"},on:{click:function(e){t.removeFromCart(i)}}})])],2)}),n("tr",[n("th",{staticClass:"rightalign",attrs:{colspan:"3"}},[t._v("Total Price")]),n("td",{staticClass:"rightalign"},[n("strong",[t._v(t._s(t._f("currency")(t.cart.totalPrice)))])]),n("td",{staticClass:"thin"})])],2)]),n("p",[n("a",{staticClass:"btn submit",on:{click:function(e){t.payment()}}},[t._v(t._s(t._f("t")("Checkout","app")))])])]:n("div",[n("p",[t._v(t._s(t._f("t")("Your cart is empty.","app"))+" "),n("a",{on:{click:function(e){t.$emit("continue-shopping")}}},[t._v(t._s(t._f("t")("Continue shopping","app")))])])])]:t._e(),t.pendingActiveTrials&&t.pendingActiveTrials.length>0?[n("hr"),t.pendingActiveTrials.length>1?n("div",{staticClass:"right"},[n("a",{on:{click:function(e){t.addAllToCart()}}},[t._v(t._s(t._f("t")("Add all to cart","app")))])]):t._e(),n("h2",[t._v(t._s(t._f("t")("Active Trials","app")))]),n("table",{staticClass:"data fullwidth"},[n("thead",[n("tr",[n("th",{staticClass:"thin"}),n("th",[t._v(t._s(t._f("t")("Plugin Name","app")))])])]),n("tbody",t._l(t.pendingActiveTrials,function(e){return n("tr",[e?[n("td",{staticClass:"thin"},[n("div",{staticClass:"plugin-icon"},[e.iconUrl?n("img",{attrs:{src:e.iconUrl,height:"32"}}):n("div",{staticClass:"default-icon"})])]),n("td",[t._v(t._s(e.name))]),n("td",[n("strong",[t._v(t._s(t._f("currency")(e.editions[0].price)))])]),n("td",{staticClass:"thin"},[n("a",{staticClass:"btn",on:{click:function(n){t.addToCart(e)}}},[t._v(t._s(t._f("t")("Add to cart","app")))])])]:t._e()],2)}))])]:t._e()],2)],2)},Hn=[],Kn={data:function(){return{itemUpdates:{}}},components:{Step:Ye["default"],SelectInput:Ln},computed:Object(i["a"])({},Object(m["mapState"])({cart:function(t){return t.cart.cart},craftLogo:function(t){return t.craft.craftLogo},craftId:function(t){return t.craft.craftId}}),Object(m["mapGetters"])({activeTrialPlugins:"cart/activeTrialPlugins",cartItems:"cart/cartItems"}),{pendingActiveTrials:function(){var t=this;return this.activeTrialPlugins.filter(function(e){if(e)return!t.cart.lineItems.find(function(t){return t.purchasable.pluginId==e.id})})},itemUpdateOptions:function(){var t=[];return this.cartItems&&this.cartItems.forEach(function(e,n){var i=e.lineItem.purchasable.renewalPrice,a=5;t[n]=[];for(var s=1;s<=a;s++){var r=new Date,o=r.getFullYear(),l=r.getMonth(),c=r.getDay(),u=new Date(o+s,l,c),d=Craft.formatDate(u),p=i*(s-1),f=void 0;f=p>0?"+"+this.$options.filters.currency(i*(s-1)):this.$options.filters.t("Free","app");var g=this.$options.filters.t("Updates Until {date} ({price})","app",{year:s,date:d,price:f});t[n].push({label:g,value:s})}}.bind(this)),t}}),methods:Object(i["a"])({},Object(m["mapActions"])({removeFromCart:"cart/removeFromCart"}),{addToCart:function(t){var e={type:"plugin-edition",plugin:t.handle,edition:t.editions[0].handle,autoRenew:!1,cmsLicenseKey:window.cmsLicenseKey};this.$store.dispatch("cart/addToCart",[e])},addAllToCart:function(){var t=this.$store,e=[];this.pendingActiveTrials.forEach(function(t){e.push({type:"plugin-edition",plugin:t.handle,edition:t.editions[0].handle,autoRenew:!1,cmsLicenseKey:window.cmsLicenseKey})}),t.dispatch("cart/addToCart",e)},payment:function(){this.craftId?this.$root.openModal("payment"):this.$root.openModal("identity")}}),mounted:function(){this.itemUpdates={},this.cartItems.forEach(function(t,e){this.itemUpdates[e]=1}.bind(this))}},Vn=Kn,Jn=Object(M["a"])(Vn,Fn,Hn,!1,null,null,null);Jn.options.__file="Cart.vue";var Wn=Jn.exports,Xn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("step",[n("template",{slot:"header"},[n("div",{staticClass:"btn-left"},[n("a",{on:{click:function(e){t.$emit("back")}}},[t._v("← Back")])]),n("h1",[t._v("Identity")])]),n("template",{slot:"main"},[n("form",{on:{submit:function(e){e.preventDefault(),t.save()}}},[n("p",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.identityMode,expression:"identityMode"}],attrs:{type:"radio",value:"craftid"},domProps:{checked:t._q(t.identityMode,"craftid")},on:{change:function(e){t.identityMode="craftid"}}}),t._v(" "+t._s(t._f("t")("Use your Craft ID","app")))])]),"craftid"===t.identityMode?[t.craftId?[n("ul",[n("li",[t._v(t._s(t.craftId.name))]),n("li",[t._v(t._s(t.craftId.email))])]),n("input",{staticClass:"btn submit",class:{disabled:!t.validates||t.loading},attrs:{type:"submit",value:"Continue",disabled:!t.validates||t.loading}})]:n("p",[n("a",{staticClass:"btn submit",on:{click:t.connectCraftId}},[t._v(t._s(t._f("t")("Connect to your Craft ID","app")))])])]:t._e(),n("p",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.identityMode,expression:"identityMode"}],attrs:{type:"radio",value:"guest"},domProps:{checked:t._q(t.identityMode,"guest")},on:{change:function(e){t.identityMode="guest"}}}),t._v(" "+t._s(t._f("t")("Continue as guest","app")))])]),"guest"===t.identityMode?[n("text-field",{attrs:{id:"email",placeholder:"Email",errors:t.guestEmailError},model:{value:t.guestEmail,callback:function(e){t.guestEmail=e},expression:"guestEmail"}}),n("input",{staticClass:"btn submit",class:{disabled:!t.validates||t.loading},attrs:{type:"submit",disabled:!t.validates||t.loading},domProps:{value:t.$options.filters.t("Continue","app")}})]:t._e(),t.loading?n("div",{staticClass:"spinner"}):t._e()],2)])],2)},qn=[],ti={components:{TextField:Pn,Step:Ye["default"]},data:function(){return{loading:!1,guestEmail:"",guestEmailError:!1}},computed:Object(i["a"])({},Object(m["mapState"])({cart:function(t){return t.cart.cart},craftId:function(t){return t.craft.craftId}}),{identityMode:{get:function(){return this.$store.state.cart.identityMode},set:function(t){this.$store.commit("cart/changeIdentityMode",t)}},validates:function(){return!("craftid"===this.identityMode&&!this.craftId)&&!("guest"===this.identityMode&&!this.guestEmail)}}),methods:{connectCraftId:function(){var t=800,e=600,n=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,i=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,a=n/2-t/2,s=i/2-e/2,r=Craft.getActionUrl("plugin-store/connect",{redirectUrl:Craft.getActionUrl("plugin-store/modal-callback")}),o="ConnectWithOauth",l="location=0,status=0,width="+t+",height="+e+",left="+a+",top="+s;window.open(r,o,l)},save:function(){var t=this;if(this.loading=!0,"guest"===this.identityMode){var e={email:this.guestEmail};this.$store.dispatch("cart/saveCart",e).then(function(){t.loading=!1,t.$root.openModal("payment")}).catch(function(){t.loading=!1,t.$root.displayError("Couldn’t save identity.")})}else this.loading=!1,this.$root.openModal("payment")}},mounted:function(){this.$root.$on("craftIdUpdated",function(){this.craftId&&this.$root.openModal("payment")}.bind(this)),this.guestEmail=this.cart.email}},ei=ti,ni=Object(M["a"])(ei,Xn,qn,!1,null,null,null);ni.options.__file="Identity.vue";var ii=ni.exports,ai=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("step",[n("template",{slot:"main"},[n("div",{attrs:{id:"thank-you-message"}},[n("div",{staticClass:"spinner big success",attrs:{id:"graphic"}}),n("h2",[t._v(t._s(t._f("t")("Thank You!","app")))]),n("p",{staticClass:"light"},[t._v(t._s(t._f("t")("Your order has been processed successfully.","app")))]),n("p",[n("a",{staticClass:"btn submit",attrs:{href:t.managePluginsUrl}},[t._v(t._s(t._f("t")("Manage plugins","app")))])])])])],2)},si=[],ri={components:{Step:Ye["default"]},computed:Object(i["a"])({},Object(m["mapState"])({craftLogo:function(t){return t.craft.craftLogo}}),{managePluginsUrl:function(){return Craft.getCpUrl("settings/plugins")}})},oi=ri,li=Object(M["a"])(oi,ai,si,!1,null,null,null);li.options.__file="ThankYou.vue";var ci=li.exports,ui={components:{PluginEdition:Ge,PluginDetails:Yn,Cart:Wn,Identity:ii,Payment:Un,ThankYou:ci},props:["pluginId","show"],data:function(){return{modal:null}},computed:Object(i["a"])({},Object(m["mapState"])({identityMode:function(t){return t.cart.identityMode}}),{modalStep:function(){return this.$root.modalStep}}),watch:{show:function(t){t?this.modal.show():this.modal.hide()}},methods:{back:function(){"plugin-edition"===this.modalStep?this.$root.modalStep="plugin-details":"craftid"===this.identityMode||"identity"===this.modalStep?this.$root.openModal("cart"):this.$root.openModal("identity")}},mounted:function(){var t=this;this.modal=new Garnish.Modal(this.$refs.pluginstoremodal,{autoShow:!1,resizable:!0,onHide:function(){t.$emit("update:show",!1)}})}},di=ui,pi=Object(M["a"])(di,Le,Ee,!1,null,null,null);pi.options.__file="Modal.vue";var fi=pi.exports,gi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.$root.pluginStoreDataLoaded&&!t.$root.pluginStoreDataError?[n("router-view")]:[n("status-message",{attrs:{error:t.$root.pluginStoreDataError,message:t.$root.statusMessage}})],n("modal",{attrs:{show:t.$root.showModal,"plugin-id":t.$root.pluginId},on:{"update:show":function(e){t.$set(t.$root,"showModal",e)}}})],2)},hi=[],mi=(n("dc44"),{components:{Modal:fi,StatusMessage:Vt}}),vi=mi,Ci=Object(M["a"])(vi,gi,hi,!1,null,null,null);Ci.options.__file="App.vue";var _i=Ci.exports;s.a.filter("currency",l),s.a.filter("escapeHtml",c),s.a.filter("formatNumber",d),s.a.filter("t",u),Garnish.$doc.ready(function(){Craft.initUiElements(),window.pluginStoreApp=new s.a({router:pe,store:Oe,render:function(t){return t(_i)},components:{Modal:fi,StatusMessage:Vt,App:_i},data:function(){return{$crumbs:null,$pageTitle:null,crumbs:null,pageTitle:"Plugin Store",plugin:null,pluginId:null,modalStep:null,pluginStoreDataLoaded:!1,pluginStoreDataError:!1,craftIdDataLoaded:!1,cartDataLoaded:!1,showModal:!1,statusMessage:null}},computed:Object(i["a"])({},Object(m["mapState"])({cart:function(t){return t.cart.cart},craftId:function(t){return t.craft.craftId}})),watch:{cart:function(t){var e=0;t&&(e=t.totalQty),$(".badge",this.$cartButton).html(e)},crumbs:function(t){var e=this;$("nav",this.$crumbs).remove(),t&&t.length>0?function(){e.$crumbs.removeClass("empty");for(var n=$("<nav></nav>"),i=$("<ul></ul>").appendTo(n),a=$("<li></li>").appendTo(i),s=e,r=function(e){var n=t[e],i=$('<a href="#" data-path="'+n.path+'">'+n.label+"</a>").appendTo(a);i.on("click",function(t){t.preventDefault(),s.$router.push({path:n.path})})},o=0;o<t.length;o++)r(o);n.appendTo(e.$crumbs)}():this.$crumbs.addClass("empty")},pageTitle:function(t){this.$pageTitle.html(t)},craftId:function(){this.craftId?($(".label",this.$craftId).html(this.craftId.username),this.$craftId.removeClass("hidden"),this.$craftIdConnectForm.addClass("hidden"),this.$craftIdDisconnectForm.removeClass("hidden")):(this.$craftId.addClass("hidden"),this.$craftIdConnectForm.removeClass("hidden"),this.$craftIdDisconnectForm.addClass("hidden"))}},methods:{displayNotice:function(t){Craft.cp.displayNotice(t)},displayError:function(t){Craft.cp.displayError(t)},showPlugin:function(t){this.plugin=t,this.pluginId=t.id,this.openModal("plugin-details")},openModal:function(t){this.modalStep=t,this.showModal=!0},closeModal:function(){this.showModal=!1},updateCraftId:function(t){var e=JSON.parse(t);this.$store.dispatch("updateCraftId",{craftId:e}),this.$emit("craftIdUpdated")}},created:function(){var t=this;this.$crumbs=$("#crumbs"),this.$pageTitle=$("#header").find("h1"),this.$pageTitle&&this.$pageTitle.html(this.pageTitle),this.$pluginStoreActions=$("#pluginstore-actions"),this.$pluginStoreActionsSpinner=$("#pluginstore-actions-spinner"),this.$craftId=$("#craftid-account"),this.$craftIdConnectForm=$("#craftid-connect-form"),this.$craftIdDisconnectForm=$("#craftid-disconnect-form"),this.$on("dataLoaded",function(){!this.pluginStoreDataLoaded||this.craftIdDataLoaded&&this.cartDataLoaded||this.$pluginStoreActionsSpinner.removeClass("hidden"),this.pluginStoreDataLoaded&&this.craftIdDataLoaded&&this.cartDataLoaded&&(this.$pluginStoreActions.removeClass("hidden"),this.$pluginStoreActionsSpinner.addClass("hidden"),this.$emit("allDataLoaded"))}.bind(this)),this.$store.dispatch("pluginStore/getPluginStoreData").then(function(e){t.pluginStoreDataLoaded=!0,t.$emit("dataLoaded")}).catch(function(e){t.pluginStoreDataError=!0,t.statusMessage=t.$options.filters.t("The Plugin Store is not available, please try again later.","app")}),this.$store.dispatch("craft/getCraftData").then(function(e){t.craftIdDataLoaded=!0,t.$emit("dataLoaded"),t.$store.dispatch("cart/getCart").then(function(){t.cartDataLoaded=!0,t.$emit("dataLoaded")})}).catch(function(e){t.craftIdDataLoaded=!0})},mounted:function(){this.pageTitle=this.$options.filters.t("Plugin Store","app"),this.statusMessage=this.$options.filters.t("Loading Plugin Store…","app");var t=this;this.$cartButton=$("#cart-button"),this.$cartButton.on("click",function(e){e.preventDefault(),t.openModal("cart")}),this.$cartButton.keydown(function(e){switch(e.which){case 13:case 32:e.preventDefault(),t.openModal("cart");break}})}}).$mount("#app")})},5880:function(t,e){t.exports=Vuex},6389:function(t,e){t.exports=VueRouter},"8bbf":function(t,e){t.exports=Vue},cebe:function(t,e){t.exports=axios},dc44:function(t,e,n){}});
//# sourceMappingURL=app.js.map