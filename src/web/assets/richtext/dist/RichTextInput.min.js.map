{"version":3,"sources":["RichTextInput.js"],"names":["$","Craft","RichTextInput","Garnish","Base","extend","id","linkOptions","volumes","elementSiteId","redactorConfig","$textarea","redactor","linkOptionModals","init","settings","this","transforms","lang","redactorLang","direction","orientation","imageUpload","fileUpload","dragImageUpload","dragFileUpload","toolbarFixedTopOffset","plugins","buttons","index","inArray","splice","unshift","lowestListButtonIndex","oldListButtons","i","length","callbacks","handleRedactorInit","initRedactor","livePreview","on","proxy","core","destroy","mergeCallbacks","callback1","callback2","apply","arguments","currentInstance","onInitRedactor","opts","toolbar","customizeToolbar","leaveFullscreetOnSaveShortcut","editor","toolbarFixed","scrollPageOnReady","$doc","trigger","$imageBtn","replaceRedactorButton","get","$fileBtn","button","addCallback","remove","$linkBtn","dropdownOptions","title","optionTitle","func","link","observe","element","in","out","unlink","attr","class","aria-disabled","addDropdown","onImageButtonClick","selection","save","assetSelectionModal","createElementSelectorModal","storageKey","multiSelect","sources","criteria","siteId","kind","onSelect","assets","transform","restore","asset","url","insert","node","code","sync","images","closeOtherModals","show","onFileButtonClick","assetLinkSelectionModal","text","label","onLinkOptionClick","key","elementType","elements","refHandle","onEditorFocus","box","addClass","onEditorBlur","removeClass","fullscreen","disable","cp","isOpen","$placeholder","addAfter","$btn","build","icon","parent","after","append","jQuery"],"mappings":"CAAA,SAAUA,GAMNC,MAAMC,cAAgBC,QAAQC,KAAKC,QAE3BC,GAAI,KACJC,YAAa,KACbC,QAAS,KACTC,cAAe,KACfC,eAAgB,KAEhBC,UAAW,KACXC,SAAU,KACVC,iBAAkB,KAElBC,KAAM,SAASC,GA8BX,GA7BAC,KAAKV,GAAKS,EAAST,GACnBU,KAAKT,YAAcQ,EAASR,YAC5BS,KAAKR,QAAUO,EAASP,QACxBQ,KAAKC,WAAaF,EAASE,WAC3BD,KAAKP,cAAgBM,EAASN,cAC9BO,KAAKN,eAAiBK,EAASL,eAE/BM,KAAKH,oBAEAG,KAAKN,eAAeQ,OACrBF,KAAKN,eAAeQ,KAAOH,EAASI,cAGnCH,KAAKN,eAAeU,YACrBJ,KAAKN,eAAeU,UAAaL,EAASK,WAAanB,MAAMoB,aAGjEL,KAAKN,eAAeY,aAAc,EAClCN,KAAKN,eAAea,YAAa,EACjCP,KAAKN,eAAec,iBAAkB,EACtCR,KAAKN,eAAee,gBAAiB,EACrCT,KAAKN,eAAegB,sBAAwB,SAGjCV,MAAKN,eAAeiB,oBAC3BX,KAAKN,eAAeiB,YAIpBX,KAAKN,eAAekB,QAAS,CAC7B,GAAIC,IAGCA,EAAQ7B,EAAE8B,QAAQ,OAAQd,KAAKN,eAAekB,aAAc,IAC7DZ,KAAKN,eAAekB,QAAQG,OAAOF,EAAO,GAC1Cb,KAAKN,eAAeiB,QAAQK,QAAQ,YAInCH,EAAQ7B,EAAE8B,QAAQ,aAAcd,KAAKN,eAAekB,aAAc,GACnEZ,KAAKN,eAAekB,QAAQG,OAAOF,EAAO,EAAG,SAOjD,KAAK,GAFDI,GADAC,GAAkB,gBAAiB,cAAe,SAAU,UAGvDC,EAAI,EAAGA,EAAID,EAAeE,OAAQD,KAClCN,EAAQ7B,EAAE8B,QAAQI,EAAeC,GAAInB,KAAKN,eAAekB,aAAc,IACxEZ,KAAKN,eAAekB,QAAQG,OAAOF,EAAO,IAEL,mBAA1BI,IAAyCJ,EAAQI,KACxDA,EAAwBJ,GAKC,oBAA1BI,IACPjB,KAAKN,eAAekB,QAAQG,OAAOE,EAAuB,EAAG,SAIrEjB,KAAKN,eAAe2B,WAChBvB,KAAMb,MAAMC,cAAcoC,oBAI9BtB,KAAKL,UAAYX,EAAE,IAAMgB,KAAKV,IAE9BU,KAAKuB,eAE4B,mBAAtBtC,OAAMuC,cAEbvC,MAAMuC,YAAYC,GAAG,yBAA0BzC,EAAE0C,MAAM,WACnD1B,KAAKJ,SAAS+B,KAAKC,WACpB5B,OAEHf,MAAMuC,YAAYC,GAAG,iBAAkBzC,EAAE0C,MAAM,WAC3C1B,KAAKuB,gBACNvB,SAIX6B,eAAgB,SAASC,EAAWC,GAChC,MAAO,YACHD,EAAUE,MAAMhC,KAAMiC,WACtBF,EAAUC,MAAMhC,KAAMiC,aAI9BV,aAAc,WACVtC,MAAMC,cAAcgD,gBAAkBlC,KACtCA,KAAKL,UAAUC,SAASI,KAAKN,sBACtBT,OAAMC,cAAcgD,iBAG/BC,eAAgB,SAASvC,GACrBI,KAAKJ,SAAWA,EAIZI,KAAKJ,SAASwC,KAAKC,SACnBrC,KAAKsC,mBAGTtC,KAAKuC,gCAELvC,KAAKJ,SAAS+B,KAAKa,SACdf,GAAG,QAASzC,EAAE0C,MAAM1B,KAAM,kBAC1ByB,GAAG,OAAQzC,EAAE0C,MAAM1B,KAAM,iBAE1BA,KAAKJ,SAASwC,KAAKK,eAAiBxD,MAAMC,cAAcwD,oBACxDvD,QAAQwD,KAAKlB,GAAG,QAAS,WACrBtC,QAAQwD,KAAKC,QAAQ,YAGzB3D,MAAMC,cAAcwD,mBAAoB,IAIhDJ,iBAAkB,WAEd,GAAItC,KAAKR,QAAQ4B,OAAQ,CACrB,GAAIyB,GAAY7C,KAAK8C,sBAAsB,QAAS9C,KAAKJ,SAASM,KAAK6C,IAAI,UACvEC,EAAWhD,KAAK8C,sBAAsB,OAAQ9C,KAAKJ,SAASM,KAAK6C,IAAI,QAErEF,IACA7C,KAAKJ,SAASqD,OAAOC,YAAYL,EAAW7D,EAAE0C,MAAM1B,KAAM,uBAG1DgD,GACAhD,KAAKJ,SAASqD,OAAOC,YAAYF,EAAUhE,EAAE0C,MAAM1B,KAAM,0BAK7DA,MAAKJ,SAASqD,OAAOE,OAAO,SAC5BnD,KAAKJ,SAASqD,OAAOE,OAAO,OAIhC,IAAInD,KAAKT,YAAY6B,OAAQ,CACzB,GAAIgC,GAAWpD,KAAK8C,sBAAsB,OAAQ9C,KAAKJ,SAASM,KAAK6C,IAAI,QAEzE,IAAIK,EAAU,CAGV,IAAK,GAFDC,MAEKlC,EAAI,EAAGA,EAAInB,KAAKT,YAAY6B,OAAQD,IACzCkC,EAAgB,cAAgBlC,IAC5BmC,MAAOtD,KAAKT,YAAY4B,GAAGoC,YAC3BC,KAAMxE,EAAE0C,MAAM1B,KAAM,oBAAqBmB,GAKjDnC,GAAEK,OAAOgE,GACLI,MACIH,MAAOtD,KAAKJ,SAASM,KAAK6C,IAAI,eAC9BS,KAAM,YACNE,SACIC,QAAS,IACTC,IACIN,MAAOtD,KAAKJ,SAASM,KAAK6C,IAAI,cAElCc,KACIP,MAAOtD,KAAKJ,SAASM,KAAK6C,IAAI,kBAI1Ce,QACIR,MAAOtD,KAAKJ,SAASM,KAAK6C,IAAI,UAC9BS,KAAM,cACNE,SACIC,QAAS,IACTE,KACIE,MACIC,MAAS,kCACTC,iBAAiB,QAOrCjE,KAAKJ,SAASqD,OAAOiB,YAAYd,EAAUC,MAKvDc,mBAAoB,WAChBnE,KAAKJ,SAASwE,UAAUC,OAEgB,mBAA7BrE,MAAKsE,oBACZtE,KAAKsE,oBAAsBrF,MAAMsF,2BAA2B,0BACxDC,WAAY,gCACZC,aAAa,EACbC,QAAS1E,KAAKR,QACdmF,UAAWC,OAAQ5E,KAAKP,cAAeoF,KAAM,SAC7CC,SAAU9F,EAAE0C,MAAM,SAASqD,EAAQC,GAC/B,GAAID,EAAO3D,OAAQ,CACfpB,KAAKJ,SAASwE,UAAUa,SACxB,KAAK,GAAI9D,GAAI,EAAGA,EAAI4D,EAAO3D,OAAQD,IAAK,CACpC,GAAI+D,GAAQH,EAAO5D,GACfgE,EAAMD,EAAMC,IAAM,UAAYD,EAAM5F,EAEpC0F,KACAG,GAAO,cAAgBH,GAG3BhF,KAAKJ,SAASwF,OAAOC,KAAKrG,EAAE,qBAAuBmG,EAAM,iBAAiB,IAC1EnF,KAAKJ,SAAS0F,KAAKC,OAEvBvF,KAAKJ,SAAS8D,QAAQ8B,WAE3BxF,MACHyF,kBAAkB,EAClBxF,WAAYD,KAAKC,aAIrBD,KAAKsE,oBAAoBoB,QAIjCC,kBAAmB,WACf3F,KAAKJ,SAASwE,UAAUC,OAEoB,mBAAjCrE,MAAK4F,wBACZ5F,KAAK4F,wBAA0B3G,MAAMsF,2BAA2B,0BAC5DC,WAAY,gCACZE,QAAS1E,KAAKR,QACdmF,UAAWC,OAAQ5E,KAAKP,eACxBqF,SAAU9F,EAAE0C,MAAM,SAASqD,GACvB,GAAIA,EAAO3D,OAAQ,CACfpB,KAAKJ,SAASwE,UAAUa,SACxB,IAAIC,GAAQH,EAAO,GACfI,EAAMD,EAAMC,IAAM,UAAYD,EAAM5F,GACpC8E,EAAYpE,KAAKJ,SAASwE,UAAUyB,OACpCvC,EAAQc,EAAUhD,OAAS,EAAIgD,EAAYc,EAAMY,KACrD9F,MAAKJ,SAASwF,OAAOC,KAAKrG,EAAE,YAAcmG,EAAM,KAAO7B,EAAQ,QAAQ,IACvEtD,KAAKJ,SAAS0F,KAAKC,SAExBvF,MACHyF,kBAAkB,EAClBxF,WAAYD,KAAKC,aAIrBD,KAAK4F,wBAAwBF,QAIrCK,kBAAmB,SAASC,GAGxB,GAFAhG,KAAKJ,SAASwE,UAAUC,OAEkB,mBAA/BrE,MAAKH,iBAAiBmG,GAAsB,CACnD,GAAIjG,GAAWC,KAAKT,YAAYyG,EAEhChG,MAAKH,iBAAiBmG,GAAO/G,MAAMsF,2BAA2BxE,EAASkG,aACnEzB,WAAazE,EAASyE,YAAc,4BAA8BzE,EAASkG,YAC3EvB,QAAS3E,EAAS2E,QAClBC,SAAU3F,EAAEK,QAAQuF,OAAQ5E,KAAKP,eAAgBM,EAAS4E,UAC1DG,SAAU9F,EAAE0C,MAAM,SAASwE,GACvB,GAAIA,EAAS9E,OAAQ,CACjBpB,KAAKJ,SAASwE,UAAUa,SACxB,IAAItB,GAAUuC,EAAS,GACnBf,EAAMxB,EAAQwB,IAAM,IAAMpF,EAASoG,UAAY,IAAMxC,EAAQrE,GAC7D8E,EAAYpE,KAAKJ,SAASwE,UAAUyB,OACpCvC,EAAQc,EAAUhD,OAAS,EAAIgD,EAAYT,EAAQmC,KACvD9F,MAAKJ,SAASwF,OAAOC,KAAKrG,EAAE,YAAcmG,EAAM,KAAO7B,EAAQ,QAAQ,IACvEtD,KAAKJ,SAAS0F,KAAKC,SAExBvF,MACHyF,kBAAkB,QAItBzF,MAAKH,iBAAiBmG,GAAKN,QAInCU,cAAe,WACXpG,KAAKJ,SAAS+B,KAAK0E,MAAMC,SAAS,SAClCtG,KAAKJ,SAAS+B,KAAK0E,MAAMzD,QAAQ,UAGrC2D,aAAc,WACVvG,KAAKJ,SAAS+B,KAAK0E,MAAMG,YAAY,SACrCxG,KAAKJ,SAAS+B,KAAK0E,MAAMzD,QAAQ,SAGrCL,8BAA+B,WACa,mBAA7BvC,MAAKJ,SAAS6G,YAA0E,kBAArCzG,MAAKJ,SAAS6G,WAAWC,SACnFzH,MAAM0H,GAAGlF,GAAG,qBAAsBzC,EAAE0C,MAAM,WAClC1B,KAAKJ,SAAS6G,WAAWG,QACzB5G,KAAKJ,SAAS6G,WAAWC,WAE9B1G,QAIX8C,sBAAuB,SAASkD,EAAK1C,GAEjC,GAAKtD,KAAKJ,SAASqD,OAAOF,IAAIiD,GAAK5E,OAAnC,CAKA,GAAIyF,GAAe7G,KAAKJ,SAASqD,OAAO6D,SAASd,EAAKA,EAAI,eAG1DhG,MAAKJ,SAASqD,OAAOE,OAAO6C,EAK5B,IAAIe,GAAO/G,KAAKJ,SAASqD,OAAO+D,MAAMhB,GAClC1C,MAAOA,EACP2D,MAAM,GAOV,OALAJ,GAAaK,SAASC,MAAMnI,EAAE,QAAQoI,OAAOL,IAG7CF,EAAa1D,SAEN4D,MAIXzF,mBAAoB,WAGhBrC,MAAMC,cAAcgD,gBAAgBC,eAAenC,UAGhEqH","file":"RichTextInput.min.js"}